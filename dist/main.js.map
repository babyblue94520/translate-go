{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/app-common/component/dialog/dialog.component.ts","./src/app/app-common/component/dialog/dialog.component.html","./src/app/app-common/component/shrink/shrink.component.ts","./src/app/app-common/component/shrink/shrink.component.html","./src/app/app-common/component/tabs/tab-group/tab-group.component.ts","./src/app/app-common/component/tabs/tab-group/tab-group.component.html","./src/app/app-common/component/tabs/tab/tab.component.ts","./src/app/app-common/component/tabs/tab/tab.component.html","./src/app/app.component.ts","./src/app/app.component.html","./src/app/dialog/download-dialog/download-dialog.component.ts","./src/app/dialog/download-dialog/download-dialog.component.html","./src/app/dialog/import-dialog/import-dialog.component.ts","./src/app/dialog/import-dialog/import-dialog.component.html","./src/app/dialog/tool-view/tool-tab/tool-tab.component.ts","./src/app/dialog/tool-view/tool-tab/tool-tab.component.html","./src/app/dialog/tool-view/tool-view.component.ts","./src/app/dialog/tool-view/tool-view.component.html","./src/environments/environment.ts","./src/main.ts","./src/translate-go/constant.ts","./src/translate-go/nodes/translate-node-placeholder.ts","./src/translate-go/nodes/translate-node-submit.ts","./src/translate-go/nodes/translate-node-text.ts","./src/translate-go/nodes/translate-node.ts","./src/translate-go/translate-db.ts","./src/translate-go/translate-go.ts","./src/ts/lib/cui/core.ts","./src/ts/lib/cui/core/clone.ts","./src/ts/lib/cui/core/component/loader.ts","./src/ts/lib/cui/core/component/overlay.ts","./src/ts/lib/cui/core/cui.ts","./src/ts/lib/cui/core/decorators/async.ts","./src/ts/lib/cui/core/decorators/cache.ts","./src/ts/lib/cui/core/decorators/delay.ts","./src/ts/lib/cui/core/decorators/took-time.ts","./src/ts/lib/cui/core/listener/event-listener-container.ts","./src/ts/lib/cui/core/listener/listener-container.ts","./src/ts/lib/cui/core/storage/abstract-storage.ts","./src/ts/lib/cui/core/storage/local-storage-manager.ts","./src/ts/lib/cui/core/storage/session-storage-manager.ts","./src/ts/translate/toolbar.key.ts","./src/ts/translate/toolbar.sources.ts","./src/ts/util/dom-util.ts","./src/ts/util/loop.ts","./src/ts/util/sticky-table.ts"],"sourcesContent":["import {\r\n  ApplicationRef,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  Injector,\r\n  Input,\r\n  OnDestroy,\r\n  TemplateRef,\r\n  ViewChild,\r\n  ViewContainerRef\r\n} from '@angular/core';\r\nimport { Overlay, Delay } from '@cui/core';\r\nimport { DomPortalOutlet, TemplatePortal } from '@angular/cdk/portal';\r\n\r\n\r\n@Component({\r\n    selector: 'app-dialog',\r\n    templateUrl: './dialog.component.html',\r\n    styleUrls: ['./dialog.component.scss'],\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n    standalone: true\r\n})\r\nexport class DialogComponent implements OnDestroy {\r\n  private dialogWindow: HTMLElement;\r\n  private outlet: DomPortalOutlet;\r\n\r\n  public show = false;\r\n\r\n  private readonly resizeObserver = new MutationObserver(entries => {\r\n    if (this.show) {\r\n      this.delayAddImageOnload();\r\n      this.resize();\r\n    }\r\n  });\r\n\r\n  @ViewChild(TemplateRef)\r\n  protected templateRef: TemplateRef<any>;\r\n\r\n  @Input()\r\n  public windowSize: '' | 'large' | 'small' | 'full' = '';\r\n\r\n  @Input()\r\n  public windowClassName = '';\r\n\r\n  @Input()\r\n  public title = '';\r\n\r\n  @Input()\r\n  public height: string;\r\n\r\n  @Input()\r\n  public width: string;\r\n\r\n  public over: string = '';\r\n\r\n  private overlay = new Overlay({\r\n    zIndex: 10000\r\n    , onOpen: this.doOpen.bind(this)\r\n    , onClose: this.doClose.bind(this)\r\n  });\r\n\r\n  private onImgLoad = () => {\r\n    this.resize();\r\n  }\r\n\r\n  private onResize = () => {\r\n    this.resize();\r\n  }\r\n\r\n  @Input()\r\n  public canClose = (): boolean | Promise<boolean> => true\r\n\r\n  @Input()\r\n  public onClose = () => { }\r\n\r\n  constructor(\r\n    private cdf: ChangeDetectorRef,\r\n    private injector: Injector,\r\n    private viewContainerRef: ViewContainerRef\r\n  ) {\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.destroy();\r\n  }\r\n\r\n  public isOpen(): boolean {\r\n    return this.show;\r\n  }\r\n\r\n  public open() {\r\n    if (this.show) {\r\n      return;\r\n    }\r\n    this.show = true;\r\n    this.overlay.open();\r\n    this.delayAddImageOnload();\r\n    this.resize();\r\n  }\r\n\r\n  public async close() {\r\n    if (!await this.canClose()) { return; }\r\n    this.resizeObserver.disconnect();\r\n    this.onClose();\r\n    this.overlay.close();\r\n  }\r\n\r\n  /**\r\n   * 讓overlay 呼叫的callback\r\n  */\r\n  private doOpen() {\r\n    this.cdf.markForCheck();\r\n    if (!this.outlet) {\r\n      let wrapper = this.overlay.getElement();\r\n      this.outlet = new DomPortalOutlet(\r\n        wrapper\r\n        , null\r\n        , this.injector.get<ApplicationRef>(ApplicationRef)\r\n        , this.injector\r\n      );\r\n      this.outlet.attach(new TemplatePortal(\r\n        this.templateRef\r\n        , this.viewContainerRef\r\n      ));\r\n      this.dialogWindow = wrapper.querySelector('.ttb-dialog-window');\r\n    }\r\n\r\n    this.resizeObserver.observe(this.dialogWindow, {\r\n      attributes: true\r\n      , childList: true\r\n      , characterData: true\r\n      , subtree: true\r\n    });\r\n\r\n    this.addImageOnload();\r\n    window.addEventListener('resize', this.onResize);\r\n\r\n    this.delayShow();\r\n  }\r\n\r\n  @Delay(50)\r\n  private delayAddImageOnload() {\r\n    this.cdf.markForCheck();\r\n    this.addImageOnload();\r\n  }\r\n\r\n  private addImageOnload() {\r\n    let imgs = this.dialogWindow.querySelectorAll('img');\r\n    imgs.forEach(img => {\r\n      img.removeEventListener('load', this.onImgLoad);\r\n      img.addEventListener('load', this.onImgLoad);\r\n    });\r\n  }\r\n\r\n  @Delay(100)\r\n  private delayShow() {\r\n    this.cdf.markForCheck();\r\n    this.show = true;\r\n  }\r\n\r\n  /**\r\n   * 讓overlay 呼叫的callback\r\n   * 等待動畫結束後才移除物件\r\n  */\r\n  private doClose() {\r\n    this.show = false;\r\n    if (this.resizeObserver) {\r\n      this.resizeObserver.disconnect();\r\n    }\r\n    window.removeEventListener('resize', this.onResize);\r\n  }\r\n\r\n  /**\r\n   * 移除物件\r\n   */\r\n  private destroy() {\r\n    if (this.resizeObserver) {\r\n      this.resizeObserver.disconnect();\r\n    }\r\n    window.removeEventListener('resize', this.onResize);\r\n    if (this.outlet) {\r\n      this.outlet.dispose();\r\n      this.outlet = null;\r\n    }\r\n    if (this.overlay) {\r\n      this.overlay.destory();\r\n      this.overlay = null;\r\n    }\r\n  }\r\n\r\n  @Delay(100)\r\n  private resize() {\r\n    this.cdf.markForCheck();\r\n    if (this.dialogWindow) {\r\n      this.over = this.dialogWindow.clientHeight > window.innerHeight ? 'over' : '';\r\n    }\r\n  }\r\n\r\n  public getClassName(): string {\r\n    return `ttb-dialog-window ${this.getSizeClass()} ${this.windowClassName} ${this.show ? 'show' : ''}`;\r\n  }\r\n\r\n  public getSizeClass(): string {\r\n    switch (this.windowSize) {\r\n      case 'small':\r\n        return 'ttb-col-xs32-8 ttb-col-xs48-6 ttb-col-sm-4';\r\n      case 'large':\r\n        return 'ttb-col-xs32-12 ttb-col-xs48-10';\r\n      case 'full':\r\n        return 'full';\r\n      default:\r\n        return 'ttb-col-xs32-10 ttb-col-xs48-8 ttb-col-sm-6';\r\n    }\r\n  }\r\n}\r\n","<ng-template>\r\n  <div class=\"ttb-dialog {{ over }}\">\r\n    <div\r\n      [class]=\"getClassName()\"\r\n      [style.width]=\"width ? width : ''\"\r\n      [style.height]=\"height ? height : ''\"\r\n    >\r\n      <div class=\"ttb-dialog-header\">\r\n        <span [innerHTML]=\"title\"></span>\r\n        <ng-content select=\"[dialogHeader]\"></ng-content>\r\n        <div class=\"close cui-icon-close\" (click)=\"close()\"></div>\r\n      </div>\r\n      <div class=\"ttb-dialog-content\">\r\n        <ng-content></ng-content>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"ttb-dialog-toolbar\">\r\n    <ng-content select=\"[dialog-toolbar]\"></ng-content>\r\n  </div>\r\n</ng-template>\r\n","import {\r\n  AfterViewInit,\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  ElementRef,\r\n  Input,\r\n  TemplateRef,\r\n  ViewChild\r\n} from '@angular/core';\r\nimport { Async } from '@cui/core';\nimport { NgIf, NgTemplateOutlet } from '@angular/common';\r\n\r\n@Component({\r\n    selector: 'app-shrink',\r\n    templateUrl: './shrink.component.html',\r\n    styleUrls: ['./shrink.component.scss'],\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n    standalone: true,\r\n    imports: [NgIf, NgTemplateOutlet]\r\n})\r\nexport class ShrinkComponent implements AfterViewInit {\r\n  private timer;\r\n  private shrink: HTMLElement;\r\n  private header: HTMLElement;\r\n  private content: HTMLElement;\r\n\r\n  @ViewChild('header')\r\n  public headerRef: TemplateRef<any>;\r\n  @Input()\r\n  public title = '';\r\n  @ViewChild('shrink')\r\n  public shrinkRef: ElementRef;\r\n  @ViewChild('inside')\r\n  public insideRef: ElementRef;\r\n  @Input()\r\n  public shadow = false;\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n  @Input()\r\n  extend = false;\r\n\r\n  ngAfterViewInit(): void {\r\n    this.shrink = this.shrinkRef.nativeElement;\r\n    this.header = this.shrink.children[0] as HTMLElement;\r\n    this.content = this.shrink.children[1] as HTMLElement;\r\n\r\n    if (this.extend) {\r\n      this.content.style.opacity = '1';\r\n      this.content.style.height = 'auto';\r\n      this.header.classList.remove('close');\r\n    } else {\r\n      this.content.style.opacity = '.5';\r\n      this.content.style.height = '0px';\r\n      this.header.classList.add('close');\r\n    }\r\n  }\r\n\r\n  public openOrClose() {\r\n    if (this.extend) {\r\n      this.close();\r\n    } else {\r\n      this.open();\r\n    }\r\n  }\r\n\r\n  public open() {\r\n    if (!this.extend) {\r\n      this.extend = true;\r\n      this.header.classList.remove('close');\r\n      this.content.style.opacity = '1';\r\n      this.content.style.height = this.getAllHeight() + 'px';\r\n      clearTimeout(this.timer);\r\n      this.timer = this.asyncHeightAuto();\r\n    }\r\n  }\r\n\r\n  public close() {\r\n    if (this.extend) {\r\n      this.extend = false;\r\n      this.header.classList.add('close');\r\n      this.content.style.opacity = '.5';\r\n      this.content.style.height = this.getAllHeight() + 'px';\r\n      clearTimeout(this.timer);\r\n      this.timer = this.asyncHeightZero();\r\n    }\r\n  }\r\n\r\n  @Async(300)\r\n  private asyncHeightAuto() {\r\n    this.content.style.height = 'auto';\r\n  }\r\n\r\n  @Async(0)\r\n  private asyncHeightZero() {\r\n    this.content.style.height = '0px';\r\n  }\r\n\r\n  private getAllHeight() {\r\n    return this.insideRef.nativeElement.offsetHeight;\r\n  }\r\n\r\n}\r\n","<div class=\"shrink {{ shadow ? 'shrink-shadow' : '' }}\" #shrink>\r\n  <div class=\"shrink-header\" (click)=\"openOrClose()\">\r\n    <div class=\"left\">\r\n      <ng-container *ngIf=\"title\">{{ title }}</ng-container>\r\n      <ng-container *ngTemplateOutlet=\"header\"></ng-container>\r\n    </div>\r\n    <div class=\"right\">\r\n      <div class=\"shrink-close cui-icon-up\"></div>\r\n    </div>\r\n  </div>\r\n  <div class=\"shrink-content\" #content>\r\n    <div class=\"shrink-content-inside\" #inside>\r\n      <ng-content></ng-content>\r\n    </div>\r\n  </div>\r\n</div>\r\n<ng-template #header>\r\n  <ng-content select=\"[shrink-title]\"></ng-content>\r\n</ng-template>\r\n","import { Delay, toDelayFn } from 'ts/lib/cui/core/decorators/delay';\r\nimport { TabComponent } from '../tab/tab.component';\r\nimport {\r\n  AfterViewInit,\r\n  Component,\r\n  ContentChildren,\r\n  ElementRef,\r\n  Input,\r\n  QueryList,\r\n  ViewChildren,\r\n  ChangeDetectorRef,\r\n  OnDestroy,\r\n} from '@angular/core';\nimport { NgFor, NgIf, NgTemplateOutlet } from '@angular/common';\r\n\r\n@Component({\r\n    selector: 'app-tab-group',\r\n    templateUrl: './tab-group.component.html',\r\n    styleUrls: ['./tab-group.component.scss'],\r\n    standalone: true,\r\n    imports: [NgFor, NgIf, NgTemplateOutlet]\r\n})\r\nexport class TabGroupComponent implements AfterViewInit, OnDestroy {\r\n\r\n  private header: HTMLElement;\r\n  private hoverBar: HTMLElement;\r\n  private labels: HTMLElement;\r\n  private contents: HTMLElement;\r\n  private prev: HTMLElement;\r\n  private next: HTMLElement;\r\n\r\n  private leftIndex = 0;\r\n  private labelsLeft = 0;\r\n\r\n  @ViewChildren('labels')\r\n  public labelsRef: QueryList<ElementRef>;\r\n\r\n  @ContentChildren(TabComponent)\r\n  public tabsRef: QueryList<TabComponent>;\r\n\r\n  @Input()\r\n  public activeIndex: number;\r\n\r\n  constructor(\r\n    private elementRef: ElementRef,\r\n    private cdf: ChangeDetectorRef\r\n  ) {\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    let element: HTMLElement = this.elementRef.nativeElement;\r\n    this.header = element.querySelector('.ttb-tab-header');\r\n    this.hoverBar = element.querySelector('.ttb-tab-header-hover');\r\n    this.labels = element.querySelector('.ttb-tab-labels');\r\n    this.contents = element.querySelector('.ttb-tab-contents');\r\n    this.prev = element.querySelector('.ttb-tab-prev');\r\n    this.prev.addEventListener('click', this.prevClick.bind(this));\r\n    this.next = element.querySelector('.ttb-tab-next');\r\n    this.next.addEventListener('click', this.nextClick.bind(this));\r\n\r\n    window.addEventListener('resize', this.resize);\r\n\r\n    this.initActiveIndex();\r\n    this.active();\r\n    this.hover();\r\n    this.showPrevNext();\r\n\r\n    this.tabsRef.changes.subscribe(() => {\r\n      if (this.tabsRef.length) {\r\n        this.initActiveIndex();\r\n        this.active();\r\n      } else {\r\n        this.contentClear();\r\n      }\r\n    });\r\n\r\n    this.labelsRef.changes.subscribe(() => {\r\n      if (this.labelsRef.length) {\r\n        this.hover();\r\n        this.showPrevNext();\r\n      } else {\r\n        this.headerClear();\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    window.removeEventListener('resize', this.resize);\r\n  }\r\n\r\n  public getLabelClass(tab: TabComponent): string {\r\n    return `ttb-tab-label ${(tab.active ? 'active' : '')} ${(tab.disabled ? 'disabled' : '')}`;\r\n  }\r\n  public getContentClass(tab: TabComponent): string {\r\n    return `ttb-tab-content ${(tab.active ? 'active' : '')}`;\r\n  }\r\n\r\n  private resize = toDelayFn(() => {\r\n    this.cdf.markForCheck();\r\n    this.showPrevNext();\r\n  }, 300);\r\n\r\n  private headerClear() {\r\n    if (this.labels) {\r\n      this.labels.style.transform = '';\r\n    }\r\n    if (this.hoverBar) {\r\n      this.hoverBar.style.width = '0px';\r\n      this.hoverBar.style.transform = '';\r\n    }\r\n  }\r\n\r\n  private contentClear() {\r\n    if (this.contents) {\r\n      this.contents.style.transform = '';\r\n    }\r\n  }\r\n\r\n  private initActiveIndex() {\r\n    if (this.activeIndex != undefined) { return; }\r\n    if (!this.tabsRef) { return; }\r\n    this.activeIndex = 0;\r\n    this.tabsRef.forEach((tab, i) => {\r\n      if (tab.active) {\r\n        this.activeIndex = i;\r\n      }\r\n    });\r\n  }\r\n\r\n  @Delay(0)\r\n  public active(index: number = this.activeIndex) {\r\n    this.cdf.markForCheck();\r\n    if (!this.tabsRef) { return; }\r\n    if (isNaN(index) || index < 0) {\r\n      index = 0;\r\n    } else if (index >= this.tabsRef.length) {\r\n      index = this.tabsRef.length - 1;\r\n    }\r\n    let tab = this.tabsRef.get(index);\r\n    if (!tab || tab.disabled) return;\r\n    this.activeIndex = index;\r\n    this.tabsRef.forEach((tab, i) => {\r\n      tab.active = index == i;\r\n    });\r\n    tab.doActive(index);\r\n    this.contents.style.transform = `translateX(-${index * 100}%)`;\r\n  }\r\n\r\n  private showPrevNext() {\r\n    if (!this.labels) return;\r\n    this.prev.style.display = 'none';\r\n    this.next.style.display = 'none';\r\n\r\n    if (this.labels.offsetWidth > this.header.offsetWidth) {\r\n      if (this.labelsLeft != 0) {\r\n        this.prev.style.display = '';\r\n      }\r\n      if (this.header.offsetWidth + this.labelsLeft < this.labels.offsetWidth) {\r\n        this.next.style.display = '';\r\n      }\r\n    } else {\r\n      this.labelsLeft = 0;\r\n      this.labels.style.transform = 'translateX(0px)';\r\n      this.hover();\r\n    }\r\n  }\r\n\r\n  public prevClick() {\r\n    if (this.leftIndex != 0) {\r\n      let label = this.labelsRef.get(--this.leftIndex);\r\n      if (this.leftIndex == 0) {\r\n        this.labelsLeft = 0;\r\n      } else {\r\n        this.labelsLeft -= label.nativeElement.offsetWidth;\r\n      }\r\n      this.labels.style.transform = `translateX(-${this.labelsLeft}px)`;\r\n      this.hover();\r\n    }\r\n    this.showPrevNext();\r\n  }\r\n\r\n  public nextClick() {\r\n    if (this.header.offsetWidth + this.labelsLeft < this.labels.offsetWidth && this.leftIndex < this.labelsRef.length - 1) {\r\n      let label = this.labelsRef.get(this.leftIndex++);\r\n      this.labelsLeft += label.nativeElement.offsetWidth;\r\n      this.labels.style.transform = `translateX(-${this.labelsLeft}px)`;\r\n      this.hover();\r\n    }\r\n    this.showPrevNext();\r\n  }\r\n\r\n  private hover(index = this.activeIndex) {\r\n    if (!this.labelsRef) return;\r\n    let label = this.labelsRef.get(index);\r\n    if (!label) return;\r\n    let left = 0;\r\n    this.labelsRef.forEach((value, i) => {\r\n      if (i <= index) {\r\n        left += value.nativeElement.offsetWidth;\r\n      }\r\n    });\r\n    this.hoverBar.style.width = label.nativeElement.offsetWidth + 'px';\r\n    this.hoverBar.style.transform = `translateX(${left - this.labelsLeft}px)`;\r\n  }\r\n}\r\n","<div class=\"ttb-tab-header\">\r\n  <div class=\"ttb-tab-header-hover\"></div>\r\n  <div class=\"ttb-tab-prev\">〈</div>\r\n  <div class=\"ttb-tab-next\">〉</div>\r\n  <div class=\"ttb-tab-labels\">\r\n    <div\r\n      #labels\r\n      *ngFor=\"let tab of tabsRef; let i = index\"\r\n      class=\"{{ getLabelClass(tab) }}\"\r\n    >\r\n      <div\r\n        class=\"ttb-tab-label-text\"\r\n        (click)=\"active(i)\"\r\n        (touchstart)=\"active(i)\"\r\n      >\r\n        <ng-container *ngIf=\"tab.label; else tab.labelRef\">\r\n          {{ tab.label }}\r\n        </ng-container>\r\n      </div>\r\n      <ng-container *ngIf=\"tab.canClose()\">\r\n        <span class=\"ttb-tab-label-close\" (click)=\"tab.doClose(i)\"></span>\r\n      </ng-container>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"ttb-tab-body\">\r\n  <div class=\"ttb-tab-contents\">\r\n    <div *ngFor=\"let tab of tabsRef\" class=\"{{ getContentClass(tab) }}\">\r\n      <ng-container *ngIf=\"tab.active\">\r\n        <ng-container *ngTemplateOutlet=\"tab.templateRef\"> </ng-container>\r\n        <ng-container *ngTemplateOutlet=\"tab.contentRef\"> </ng-container\r\n      ></ng-container>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import {\r\n  Component,\r\n  Input,\r\n  TemplateRef,\r\n  ViewChild,\r\n} from '@angular/core';\r\n\r\nexport interface TabCallback<T> {\r\n  (index: number, value: T, tab: TabComponent<T>): void;\r\n}\r\n@Component({\r\n    selector: 'app-tab',\r\n    templateUrl: './tab.component.html',\r\n    styleUrls: ['./tab.component.scss'],\r\n    standalone: true\r\n})\r\nexport class TabComponent<T = any> {\r\n  @ViewChild('all', { static: true })\r\n  public templateRef: TemplateRef<any>;\r\n  @ViewChild('content', { static: true })\r\n  public contentRef: TemplateRef<any>;\r\n  @ViewChild('label', { static: true })\r\n  public labelRef: TemplateRef<any>;\r\n\r\n  @Input() id = '';\r\n  @Input() label = '';\r\n  @Input() disabled = false;\r\n  @Input() active = false;\r\n  @Input() value: T;\r\n\r\n  @Input() onActive: TabCallback<T>;\r\n\r\n  @Input() onClose: TabCallback<T>;\r\n\r\n  public canClose(): boolean {\r\n    return this.onClose instanceof Function;\r\n  }\r\n\r\n  public doActive(index: number) {\r\n    if (this.onActive instanceof Function) {\r\n      this.onActive(index, this.value, this);\r\n    }\r\n  }\r\n\r\n  public doClose(index: number) {\r\n    if (this.canClose()) {\r\n      this.onClose(index, this.value, this)\r\n    }\r\n  }\r\n}\r\n","<ng-template #all>\r\n  <ng-content></ng-content>\r\n</ng-template>\r\n<ng-template #label>\r\n  <ng-content select=\"[tab-label]\"></ng-content>\r\n</ng-template>\r\n<ng-template #content>\r\n  <ng-content select=\"[tab-content]\"></ng-content>\r\n</ng-template>\r\n","import ToolbarKey from 'ts/translate/toolbar.key';\r\nimport { getTranslateGO } from 'translate-go/translate-go';\r\nimport { toolbarSources } from 'ts/translate/toolbar.sources';\r\nimport { ToolViewComponent } from './dialog/tool-view/tool-view.component';\r\nimport { TranslateEvent } from 'translate-go/constant';\r\nimport { TranslateOnSave, TranslateToolbar } from 'translate-go/interface';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { NgIf, NgFor } from '@angular/common';\r\nimport { AfterViewInit, Component, ElementRef, Input, NgZone, OnDestroy, ViewChild } from '@angular/core';\r\n\r\n\r\n@Component({\r\n    selector: 'app-root',\r\n    templateUrl: './app.component.html',\r\n    styleUrls: ['./app.component.scss'],\r\n    standalone: true,\r\n    imports: [NgIf, FormsModule, NgFor, ToolViewComponent]\r\n})\r\nexport class AppComponent implements AfterViewInit, OnDestroy , TranslateToolbar{\r\n  public readonly ToolbarKey = ToolbarKey;\r\n\r\n  public readonly translateGO = getTranslateGO();\r\n\r\n  private readonly toolbarGroup = 'toolbar';\r\n\r\n  public showToolbar = true;\r\n\r\n  public showToolDialog = false;\r\n\r\n  public languages = [];\r\n\r\n  public currentLanguage;\r\n\r\n  @ViewChild(ToolViewComponent)\r\n  private viewDialog: ToolViewComponent;\r\n\r\n  @Input()\r\n  public onSave: TranslateOnSave;\r\n\r\n  constructor(private elementRef: ElementRef, private zone: NgZone) {\r\n    this.currentLanguage = this.translateGO.getLanguage();\r\n\r\n    let space = document.createElement('div');\r\n    space.className = 'ttb-space';\r\n    document.body.appendChild(space);\r\n\r\n    this.translateGO.addEventListener(TranslateEvent.SourceChanged, () => {\r\n      this.zone.run(() => {\r\n        this.languages = this.translateGO.getLanguages();\r\n      });\r\n    });\r\n    this.translateGO.loadAll(toolbarSources, this.toolbarGroup);\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.translateGO.addEventListener(TranslateEvent.LanguageChanged, () => {\r\n      this.zone.run(() => {\r\n        this.currentLanguage = this.translateGO.getLanguage();\r\n      });\r\n    });\r\n\r\n    this.start();\r\n    this.openToolDialog();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.translateGO.removeAllEventListener(this);\r\n  }\r\n\r\n  public start() {\r\n    this.translateGO.start();\r\n  }\r\n\r\n  public stop() {\r\n    this.translateGO.stop();\r\n  }\r\n\r\n  public openOrClose(e) {\r\n    let button = e.target;\r\n    let toolbar = this.elementRef.nativeElement;\r\n    if (this.showToolbar) {\r\n      this.showToolbar = false;\r\n      let w = toolbar.offsetWidth - button.offsetWidth - 15;\r\n      toolbar.style.transform = `translateX(-${w}px)`;\r\n    } else {\r\n      this.showToolbar = true;\r\n      toolbar.style.transform = `translateX(0px)`;\r\n    }\r\n  }\r\n\r\n  public onLanguageSelected = () => {\r\n    this.translateGO.translate(this.currentLanguage);\r\n  }\r\n\r\n  public openToolDialog() {\r\n    this.viewDialog.open();\r\n  }\r\n}\r\n","<div class=\"ttb-bar\">\r\n  <button\r\n    class=\"ttb-button cui-icon-play\"\r\n    *ngIf=\"!translateGO.isScanning()\"\r\n    (click)=\"start()\"\r\n  ></button>\r\n  <button\r\n    class=\"ttb-button bg-accent cui-icon-stop\"\r\n    *ngIf=\"translateGO.isScanning()\"\r\n    (click)=\"stop()\"\r\n  ></button>\r\n  <button\r\n    class=\"ttb-button cui-icon-edit {{ showToolDialog ? 'bg-dark' : '' }}\"\r\n    (click)=\"openToolDialog()\"\r\n  ></button>\r\n  <select\r\n    class=\"ttb-bar-select\"\r\n    [(ngModel)]=\"currentLanguage\"\r\n    (ngModelChange)=\"onLanguageSelected()\"\r\n  >\r\n    <option *ngFor=\"let lang of languages\" [value]=\"lang\">{{ lang }}</option>\r\n  </select>\r\n  <button\r\n    class=\"ttb-button small {{ showToolbar ? 'bg-dark' : '' }}\"\r\n    #ocButton\r\n    (click)=\"openOrClose($event)\"\r\n  >\r\n    {{ showToolbar ? \"✖\" : \"❱\" }}\r\n  </button>\r\n</div>\r\n<tool-view [onSave]=\"onSave\"></tool-view>\r\n","import ToolbarKey from 'ts/translate/toolbar.key';\r\nimport { ChangeDetectionStrategy, Component, ViewChild } from '@angular/core';\r\nimport { CUI } from '@cui/core';\r\nimport { DialogComponent } from 'app/app-common/component/dialog/dialog.component';\r\nimport { getTranslateGO } from 'translate-go/translate-go';\r\nimport { TranslateFile, TranslateRecord } from 'translate-go/interface';\nimport { TabComponent } from '../../app-common/component/tabs/tab/tab.component';\nimport { TabGroupComponent } from '../../app-common/component/tabs/tab-group/tab-group.component';\nimport { FormsModule } from '@angular/forms';\nimport { NgIf, NgFor } from '@angular/common';\nimport { DialogComponent as DialogComponent_1 } from '../../app-common/component/dialog/dialog.component';\r\n\r\n@Component({\r\n    selector: 'download-dialog',\r\n    templateUrl: './download-dialog.component.html',\r\n    styleUrls: ['./download-dialog.component.scss'],\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n    standalone: true,\r\n    imports: [DialogComponent_1, NgIf, FormsModule, NgFor, TabGroupComponent, TabComponent]\r\n})\r\nexport class DownloadDialogComponent {\r\n  public readonly ToolbarKey = ToolbarKey;\r\n\r\n  private readonly key = 'key';\r\n\r\n  private readonly translateGO = getTranslateGO();\r\n\r\n  @ViewChild(DialogComponent)\r\n  private dialog: DialogComponent;\r\n\r\n  public language: string;\r\n\r\n  public languages: string[] = [];\r\n\r\n  public group: string;\r\n\r\n  public keyVarable = '';\r\n\r\n  public keyFile: TranslateFile;\r\n\r\n  public languageFiles: TranslateFile[] = [];\r\n\r\n  private records: TranslateRecord[];\r\n\r\n  public open(\r\n    group: string\r\n    , records: TranslateRecord[]\r\n  ) {\r\n    this.language = this.translateGO.getLanguage();\r\n    this.languages = this.translateGO.getLanguages();\r\n    this.group = group;\r\n    this.records = records;\r\n    this.keyFile = this.buildKeyFile(group);\r\n    this.languageFiles = this.buildLanguageFiles(group);\r\n    this.dialog.open();\r\n  }\r\n\r\n  public onLanguageChange() {\r\n    this.keyFile = this.buildKeyFile(this.group);\r\n  }\r\n\r\n  public onKeyVarableChange() {\r\n    this.keyFile = this.buildKeyFile(this.group, this.keyVarable);\r\n  }\r\n\r\n  public jsonToHtml(json: string): string {\r\n    return CUI.printJson(json);\r\n  }\r\n\r\n  public download() {\r\n    this.doDownload(this.keyFile.name, new Blob([this.keyFile.content], { type: 'application/javascript' }));\r\n    for (let file of this.languageFiles) {\r\n      this.doDownload(file.name, new Blob([file.content], { type: 'application/javascript' }));\r\n    }\r\n  }\r\n\r\n  private doDownload(fileName, blob) {\r\n    let a = document.createElement('a');\r\n    a.href = URL.createObjectURL(blob);\r\n    a.download = fileName;\r\n    a.click();\r\n    a = null;\r\n  }\r\n\r\n  private buildKeyFile(group: string, keyVarable?: string): TranslateFile {\r\n    this.keyVarable = keyVarable || group[0].toUpperCase() + group.substring(1) + 'Key';\r\n    let keys = [`export default class ${this.keyVarable} {`];\r\n    let records = this.records;\r\n    for (let record of records) {\r\n      let value = record[this.key];\r\n      keys.push(`  /** ${record[this.language]}*/`);\r\n      keys.push(`  static readonly ${value} = '{${value}}';`);\r\n    }\r\n    keys.push('};')\r\n    return {\r\n      name: `${group}.key.ts`\r\n      , language: this.key\r\n      , content: keys.join('\\n')\r\n    };\r\n  }\r\n\r\n  private buildLanguageFiles(group: string): TranslateFile[] {\r\n    let files: TranslateFile[] = [];\r\n    let jsons = {};\r\n    let records = this.records;\r\n    let languages = this.languages;\r\n    for (let record of records) {\r\n      let value = record[this.key];\r\n      for (let language of languages) {\r\n        value = record[language];\r\n        (jsons[language] || (jsons[language] = {}))[record.key] = value;\r\n      }\r\n    }\r\n    for (let language of languages) {\r\n      files.push({\r\n        name: `${group}.${language}.json`\r\n        , language: language\r\n        , content: JSON.stringify(jsons[language])\r\n      });\r\n    }\r\n    return files;\r\n  }\r\n\r\n\r\n}\r\n","<app-dialog #downloadDialog [windowSize]=\"'large'\">\r\n  <ng-container *ngIf=\"downloadDialog.isOpen()\">\r\n    <div class=\"ttb-col-xs32-4 ttb-field\">\r\n      <select [(ngModel)]=\"language\" (ngModelChange)=\"onLanguageChange()\">\r\n        <option *ngFor=\"let lang of languages\" [value]=\"lang\">\r\n          {{ lang }}\r\n        </option>\r\n      </select>\r\n      <label>Language</label>\r\n    </div>\r\n    <div class=\"ttb-col-xs32-8 ttb-field\">\r\n      <input\r\n        type=\"text\"\r\n        [(ngModel)]=\"keyVarable\"\r\n        (ngModelChange)=\"onKeyVarableChange()\"\r\n      />\r\n      <label>Key Class Name</label>\r\n    </div>\r\n    <div class=\"ttb-button-row\">\r\n      <button\r\n        class=\"ttb-button bg-dark\"\r\n        (click)=\"download()\"\r\n        [innerText]=\"ToolbarKey.Download\"\r\n      ></button>\r\n    </div>\r\n    <app-tab-group>\r\n      <app-tab *ngIf=\"keyFile\">\r\n        <div tab-label>\r\n          {{ keyFile.name }}\r\n        </div>\r\n        <div style=\"height: 30em; overflow-y: hidden\">\r\n          <textarea\r\n            [value]=\"keyFile.content\"\r\n            style=\"width: 100%; height: 100%\"\r\n            readonly\r\n          ></textarea>\r\n        </div>\r\n      </app-tab>\r\n      <app-tab *ngFor=\"let file of languageFiles\">\r\n        <div tab-label>\r\n          {{ file.name }}\r\n        </div>\r\n        <div style=\"height: 30em; overflow-y: auto\">\r\n          <div [innerHTML]=\"jsonToHtml(file.content)\"></div>\r\n        </div>\r\n      </app-tab>\r\n    </app-tab-group>\r\n  </ng-container>\r\n</app-dialog>\r\n","import ToolbarKey from 'ts/translate/toolbar.key';\r\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, Input, ViewChild } from '@angular/core';\r\nimport { CUI } from '@cui/core';\r\nimport { DialogComponent } from 'app/app-common/component/dialog/dialog.component';\r\nimport { TranslateFile } from 'translate-go/interface';\nimport { TabComponent } from '../../app-common/component/tabs/tab/tab.component';\nimport { TabGroupComponent } from '../../app-common/component/tabs/tab-group/tab-group.component';\nimport { FormsModule } from '@angular/forms';\nimport { NgIf, NgFor } from '@angular/common';\nimport { DialogComponent as DialogComponent_1 } from '../../app-common/component/dialog/dialog.component';\r\n\r\n\r\n@Component({\r\n    selector: 'import-dialog',\r\n    templateUrl: './import-dialog.component.html',\r\n    styleUrls: ['./import-dialog.component.scss'],\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n    standalone: true,\r\n    imports: [DialogComponent_1, NgIf, FormsModule, TabGroupComponent, NgFor, TabComponent]\r\n})\r\nexport class ImportDialogComponent {\r\n  public readonly ToolbarKey = ToolbarKey;\r\n\r\n  @ViewChild(DialogComponent)\r\n  private dialog: DialogComponent;\r\n\r\n  public languages: string[] = [];\r\n  public group: string;\r\n  public sourceFiles: TranslateFile[] = [];\r\n\r\n  @Input()\r\n  public onImport = (group: string, files: TranslateFile[]) => { };\r\n\r\n  private fileInput: HTMLInputElement;\r\n\r\n  constructor(private cdf: ChangeDetectorRef) {\r\n    this.fileInput = document.createElement('input');\r\n    this.fileInput.type = 'file';\r\n    this.fileInput.multiple = true;\r\n    this.fileInput.accept = '.json';\r\n    this.fileInput.onchange = this.onChange;\r\n  }\r\n\r\n  public open(languages: string[]) {\r\n    this.group = '';\r\n    this.sourceFiles.length = 0;\r\n    this.languages = languages;\r\n    this.fileInput.value = '';\r\n    this.dialog.open();\r\n  }\r\n\r\n  public jsonToHtml(json: string): string {\r\n    return CUI.printJson(json);\r\n  }\r\n\r\n  public selectFiles() {\r\n    this.fileInput.click();\r\n  }\r\n\r\n  private onChange = () => {\r\n    let fileList: FileList = this.fileInput.files;\r\n    this.sourceFiles.length = 0;\r\n    for (let i = 0; i < fileList.length; i++) {\r\n      let file = fileList.item(i);\r\n      let name = file.name;\r\n      let language = name.replace(/^(.+\\.)?([^.]+)\\.[^.]+$/, '$2');\r\n      this.group = name.substring(0, name.indexOf('.'));\r\n      let source = this.sourceFiles[i] = {\r\n        name: name\r\n        , language: language\r\n        , content: ''\r\n      }\r\n      let reader = new FileReader();\r\n      reader.onload = () => {\r\n        this.cdf.markForCheck();\r\n        source.content = <string>reader.result;\r\n      }\r\n      reader.readAsText(file);\r\n    }\r\n  }\r\n\r\n  public onClose = () => {\r\n    this.sourceFiles.length = 0;\r\n  }\r\n\r\n  public import() {\r\n    this.onImport(this.group, this.sourceFiles);\r\n    this.dialog.close();\r\n  }\r\n\r\n}\r\n","<app-dialog #sourceDialog [windowSize]=\"'large'\" [onClose]=\"onClose\">\r\n  <ng-container *ngIf=\"sourceDialog.isOpen()\">\r\n    <div class=\"ttb-field\">\r\n      <input type=\"text\" [(ngModel)]=\"group\" />\r\n      <label [innerText]=\"ToolbarKey.Group\"></label>\r\n    </div>\r\n    <div class=\"ttb-button-row center\">\r\n      <button\r\n        class=\"ttb-button\"\r\n        (click)=\"selectFiles()\"\r\n        [innerText]=\"ToolbarKey.SelectFiles\"\r\n      ></button>\r\n    </div>\r\n    <div class=\"ttb-button-row\">\r\n      <button\r\n        class=\"ttb-button\"\r\n        (click)=\"import()\"\r\n        [disabled]=\"sourceFiles.length == 0\"\r\n        [innerText]=\"ToolbarKey.Import\"\r\n      ></button>\r\n    </div>\r\n    <app-tab-group>\r\n      <app-tab *ngFor=\"let file of sourceFiles\">\r\n        <div tab-label>\r\n          {{ file.name }}\r\n        </div>\r\n        <div class=\"ttb-field\" style=\"width: 10em\">\r\n          <select [(ngModel)]=\"file.language\">\r\n            <option\r\n              *ngFor=\"let value of languages\"\r\n              [value]=\"value\"\r\n              [innerText]=\"value\"\r\n            ></option>\r\n          </select>\r\n        </div>\r\n        <div class=\"ttb-field\" style=\"height: 30em; overflow-y: auto\">\r\n          <div [innerHTML]=\"jsonToHtml(file.content)\"></div>\r\n        </div>\r\n      </app-tab>\r\n    </app-tab-group>\r\n  </ng-container>\r\n</app-dialog>\r\n","import Loop from 'ts/util/loop';\r\nimport ToolbarKey from 'ts/translate/toolbar.key';\r\nimport { Delay } from 'ts/lib/cui/core/decorators/delay';\r\nimport { DomUtil } from 'ts/util/dom-util';\r\nimport { DownloadDialogComponent } from 'app/dialog/download-dialog/download-dialog.component';\r\nimport { getTranslateGO } from 'translate-go/translate-go';\r\nimport { Sort, TranslateEvent } from 'translate-go/constant';\r\nimport { StickyTable } from 'ts/util/sticky-table';\r\nimport {\r\n  Translate, TranslateOnSave, TranslateRecord, TranslateSource\r\n} from 'translate-go/interface';\r\n\r\nimport {\r\n  forwardRef, AfterViewInit, ChangeDetectorRef, Component, ElementRef, Input, NgZone, OnDestroy,\r\n  ViewChild\r\n} from '@angular/core';\r\nimport { NG_VALUE_ACCESSOR, FormsModule } from '@angular/forms';\nimport { DownloadDialogComponent as DownloadDialogComponent_1 } from '../../download-dialog/download-dialog.component';\nimport { NgFor, NgIf } from '@angular/common';\r\n\r\n@Component({\r\n    selector: 'tool-tab',\r\n    templateUrl: './tool-tab.component.html',\r\n    styleUrls: ['./tool-tab.component.scss'],\r\n    providers: [{\r\n            provide: NG_VALUE_ACCESSOR,\r\n            useExisting: forwardRef(() => ToolTabComponent),\r\n            multi: true,\r\n        }],\r\n    standalone: true,\r\n    imports: [FormsModule, NgFor, NgIf, DownloadDialogComponent_1]\r\n})\r\nexport class ToolTabComponent implements AfterViewInit, OnDestroy {\r\n  public readonly ToolbarKey = ToolbarKey;\r\n\r\n  public readonly key = 'key';\r\n\r\n  private readonly split = '\\n----------------\\n';\r\n\r\n  private readonly translateGO = getTranslateGO();\r\n\r\n  @ViewChild(DownloadDialogComponent)\r\n  private downloadDialog: DownloadDialogComponent;\r\n\r\n  @ViewChild('table')\r\n  private tableRef: ElementRef;\r\n\r\n  @Input()\r\n  set languages(languages: string[]) {\r\n    this._languages = languages;\r\n    this.init();\r\n  }\r\n\r\n  _languages: string[] = [];\r\n\r\n  @Input()\r\n  private onSave: TranslateOnSave;\r\n\r\n  public value;\r\n\r\n  public group: string = '';\r\n\r\n\r\n  public records: TranslateRecord[] = [];\r\n\r\n  private keyCount = {};\r\n\r\n  private orderBy = {\r\n    name: this.key\r\n    , sort: Sort.ASC\r\n  };\r\n\r\n  public originRecords: TranslateRecord[] = [];\r\n\r\n  public newLanguage = 'zh-TW';\r\n\r\n  public newLanguageMessage = '';\r\n\r\n  public newGroup = 'New';\r\n\r\n  public keyword = '';\r\n\r\n  private filterRecords = [];\r\n\r\n  public filterCount = 0;\r\n\r\n  public propertyText = {};\r\n\r\n  private changes = {};\r\n\r\n  public focus: HTMLElement;\r\n\r\n  private stickyTable: StickyTable;\r\n\r\n\r\n  constructor(private cdf: ChangeDetectorRef, private zone: NgZone) {\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.translateGO.addEventListener(TranslateEvent.SourceChanged, () => {\r\n      this.zone.run(() => {\r\n        this.init();\r\n      });\r\n    });\r\n\r\n    this.stickyTable = new StickyTable(this.tableRef.nativeElement, {\r\n      head: {\r\n        cols: 2\r\n      },\r\n      body: {\r\n        cols: 2\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.translateGO.removeAllEventListener(this);\r\n  }\r\n\r\n\r\n  onChange = (_) => { };\r\n  onTouched = () => { };\r\n\r\n  writeValue(value: string): void {\r\n    this.cdf.markForCheck();\r\n    this.value = value;\r\n    this.group = value;\r\n    this.init();\r\n  }\r\n\r\n  registerOnChange(fn: any): void {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: any): void {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n  public isFocus(element): boolean {\r\n    return this.focus == element;\r\n  }\r\n\r\n  public onFocus(element) {\r\n    if (this.focus == element) return;\r\n    this.focus = element;\r\n    this.focusEditor();\r\n  }\r\n\r\n  public onBlur() {\r\n    this.focus = undefined;\r\n  }\r\n\r\n  @Delay()\r\n  public focusEditor() {\r\n    if (this.focus) {\r\n      let editor: HTMLInputElement | HTMLTextAreaElement = this.focus.querySelector('input,textarea');\r\n      if (editor) {\r\n        editor.focus();\r\n        editor.select();\r\n      }\r\n    }\r\n  }\r\n\r\n  public rename() {\r\n    this.onChange(this.value);\r\n    this.onTouched();\r\n    this.translateGO.loadAll(this.translateGO.getLanguageSource(this.group), this.value);\r\n    this.translateGO.removeLanguageSource(this.group);\r\n  }\r\n\r\n  public isGroupChange(): boolean {\r\n    return this.value != this.group;\r\n  }\r\n\r\n  public save() {\r\n    if (this.onSave instanceof Function) {\r\n      this.onSave(this.getChanges());\r\n    } else {\r\n      let records = this.records;\r\n      let sources = {};\r\n      for (let record of records) {\r\n        for (let language of this._languages) {\r\n          (sources[language] || (sources[language] = {}))[record.key] = record[language];\r\n        }\r\n      }\r\n      for (let language in sources) {\r\n        this.translateGO.load(language, sources[language], this.group);\r\n      }\r\n      this.init();\r\n    }\r\n  }\r\n\r\n  public openDownload() {\r\n    this.downloadDialog.open(\r\n      this.group\r\n      , this.records\r\n    );\r\n  }\r\n\r\n  public getKeyClass(key: string): string {\r\n    return (this.keyCount[key] || 0) > 1 ? 'duplicate' : '';\r\n  }\r\n\r\n  @Delay(50)\r\n  public filter() {\r\n    this.cdf.markForCheck();\r\n    Loop.of(this.records)\r\n      .call(loop => this.addFilterHandler(loop))\r\n      .call(loop => this.addUpdateAllTextHandler(loop))\r\n      .run();\r\n  }\r\n\r\n  public isFilter(i: number): boolean {\r\n    return this.filterRecords[i];\r\n  }\r\n\r\n  public sortClass(name: string): string {\r\n    if (this.orderBy.name == name) {\r\n      return 'pointer ' + (this.orderBy.sort == Sort.DESC ? 'cui-icon-down' : 'cui-icon-up');\r\n    } else {\r\n      return 'pointer';\r\n    }\r\n  }\r\n\r\n  public sortChange(name: string) {\r\n    this.orderBy.name = name;\r\n    this.orderBy.sort *= -1;\r\n    this.records.sort((a, b) => {\r\n      return (a[name] || '').localeCompare(b[name]) * this.orderBy.sort;\r\n    });\r\n    this.originRecords.sort((a, b) => {\r\n      return (a[name] || '').localeCompare(b[name]) * this.orderBy.sort;\r\n    });\r\n\r\n    Loop.of(this.records)\r\n      .call(loop => this.addUpdateAllTextHandler(loop))\r\n      .run();\r\n  }\r\n\r\n  @Delay(200)\r\n  public onRecordChange(name: string) {\r\n    this.cdf.markForCheck();\r\n    Loop.of(this.records)\r\n      .call(loop => {\r\n        if (name == this.key) {\r\n          this.addKeyCountHandler(loop);\r\n        }\r\n      })\r\n      .call(loop => this.addUpdateTextHandler(name, loop))\r\n      .call(loop => this.addChangeHandler(name, loop))\r\n      .run();\r\n  }\r\n\r\n  @Delay(200)\r\n  public onTextChange(name: string) {\r\n    this.cdf.markForCheck();\r\n    let text = this.propertyText[name] || '';\r\n    if (!text.trim()) { return; }\r\n    let messages = text.split(/\\n-{10,}\\n/);\r\n    Loop.of(this.records)\r\n      .handler((record, i) => {\r\n        record[name] = messages[i];\r\n      })\r\n      .call(loop => {\r\n        if (name == this.key) {\r\n          this.addKeyCountHandler(loop);\r\n        }\r\n      })\r\n      .call(loop => this.addChangeHandler(name, loop))\r\n      .run();\r\n  }\r\n\r\n  public addSource() {\r\n    this.records.unshift(this.buildRecord());\r\n\r\n    Loop.of(this.records)\r\n      .call(loop => this.addFilterHandler(loop))\r\n      .call(loop => this.addUpdateAllTextHandler(loop))\r\n      .call(loop => this.addAllChangeHandler(loop))\r\n      .after(() => {\r\n        this.filterCount++;\r\n        this.filterRecords[0] = true;\r\n      })\r\n      .run();\r\n  }\r\n\r\n  public removeSource(record: TranslateRecord) {\r\n    let records = this.records;\r\n    let index = records.indexOf(record);\r\n    if (index == -1) { return; }\r\n    records.splice(index, 1);\r\n    Loop.of(this.records)\r\n      .call(loop => this.addFilterHandler(loop))\r\n      .call(loop => this.addUpdateAllTextHandler(loop))\r\n      .call(loop => this.addAllChangeHandler(loop))\r\n      .run();\r\n  }\r\n\r\n  public copy(name: string) {\r\n    DomUtil.copyText(this.propertyText[name]);\r\n  }\r\n\r\n  public isChange() {\r\n    for (let name in this.changes) {\r\n      if (this.changes[name]) return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  @Delay(50)\r\n  public init() {\r\n    this.cdf.markForCheck();\r\n    let records = this.originRecords = [];\r\n    let keyRecord = {};\r\n    let languageSource = this.translateGO.getLanguageSource(this.group) || {};\r\n    if (languageSource) {\r\n      for (let language of this._languages) {\r\n        let source = languageSource[language];\r\n        if (!source) continue;\r\n        for (let key in source) {\r\n          let record = keyRecord[key];\r\n          if (!record) {\r\n            records.push((record = keyRecord[key] = this.buildRecord()));\r\n            record.key = key;\r\n          }\r\n          record[language] = this.getMessageOrKey(source, key);\r\n        }\r\n      }\r\n    }\r\n    this.reset();\r\n  }\r\n\r\n  public reset() {\r\n    this.records.length = this.originRecords.length;\r\n    Loop.of(this.originRecords)\r\n      .handler((record, i) => {\r\n        this.records[i] = Object.assign(this.buildRecord(), record);\r\n      })\r\n      .run();\r\n\r\n    Loop.of(this.records)\r\n      .call(loop => this.addFilterHandler(loop))\r\n      .call(loop => this.addKeyCountHandler(loop))\r\n      .call(loop => this.addUpdateAllTextHandler(loop))\r\n      .call(loop => this.addAllChangeHandler(loop))\r\n      .run();\r\n  }\r\n\r\n  public addFilterHandler(loop: Loop<TranslateRecord>): void {\r\n    let keyword = this.keyword.toLowerCase();\r\n    loop.before((array) => {\r\n      this.filterCount = array.length;\r\n      this.filterRecords.length = array.length;\r\n      this.filterRecords.fill(true);\r\n    });\r\n    if (keyword) {\r\n      loop.handler((record, i) => {\r\n        for (let name in record) {\r\n          let value = (record[name] || '').toLowerCase();\r\n          if (value.indexOf(keyword) > -1) {\r\n            return;\r\n          }\r\n        }\r\n        this.filterCount--;\r\n        this.filterRecords[i] = false;\r\n      });\r\n    }\r\n  }\r\n\r\n  private addKeyCountHandler(loop: Loop<TranslateRecord>) {\r\n    this.keyCount = {};\r\n    loop.handler((record) => {\r\n      this.keyCount[record.key] = (this.keyCount[record.key] || 0) + 1;\r\n    });\r\n  }\r\n\r\n  private addChangeHandler(name: string, loop: Loop<TranslateRecord>,) {\r\n    let change = false;\r\n    loop.handler((record, i) => {\r\n      let origin = this.originRecords[i];\r\n      if (!origin || record[name] != origin[name]) {\r\n        change = true;\r\n        return true;\r\n      }\r\n    }).after(() => {\r\n      this.changes[name] = change;\r\n    });\r\n  }\r\n\r\n  private addUpdateTextHandler(name: string, loop: Loop<TranslateRecord>) {\r\n    let text = '';\r\n    loop.handler((record, i) => {\r\n      if (this.isFilter(i)) {\r\n        text += this.split + record[name];\r\n      }\r\n    }).after(() => {\r\n      this.propertyText[name] = text.substring(this.split.length);\r\n    });\r\n  }\r\n\r\n  private addAllChangeHandler(loop: Loop<TranslateRecord>,) {\r\n    for (let name in this.propertyText) {\r\n      this.addChangeHandler(name, loop);\r\n    }\r\n  }\r\n\r\n  private addUpdateAllTextHandler(loop: Loop<TranslateRecord>) {\r\n    let texts = this.propertyText = {};\r\n    texts[this.key] = '';\r\n    for (let language of this._languages) {\r\n      texts[language] = '';\r\n    }\r\n\r\n    for (let name in this.propertyText) {\r\n      this.addUpdateTextHandler(name, loop);\r\n    }\r\n  }\r\n\r\n  private buildRecord(): TranslateRecord {\r\n    let record: TranslateRecord = {\r\n      key: ''\r\n    };\r\n    this._languages.forEach(language => {\r\n      this.getMessageOrKey(record, language);\r\n    });\r\n    return record;\r\n  }\r\n\r\n  private getMessageOrKey(record: TranslateRecord | TranslateSource, name: string): string {\r\n    if (record[name] == undefined || record[name] == '') {\r\n      record[name] = record.key ? '!key@' + record.key : '';\r\n    }\r\n    return record[name];\r\n  }\r\n\r\n  private getChanges() {\r\n    let changes = {\r\n      change: false\r\n      , adds: []\r\n      , modifies: []\r\n      , removes: []\r\n    };\r\n\r\n    let removeMap = this.toMap(this.originRecords);\r\n    let records = this.records;\r\n    for (let record of records) {\r\n      let key = record[this.key];\r\n      for (let language of this._languages) {\r\n        let value = record[language];\r\n        let index = this.toIndex(key, language);\r\n        let obj = removeMap[index];\r\n        removeMap[index] = undefined;\r\n        if (obj) {\r\n          if (obj.message != value) {\r\n            changes.modifies.push(this.buildTranslate(key, language, value));\r\n          }\r\n        } else {\r\n          changes.adds.push(this.buildTranslate(key, language, value));\r\n        }\r\n      }\r\n    }\r\n\r\n    for (let key in removeMap) {\r\n      let data = removeMap[key];\r\n      if (data) {\r\n        changes.removes.push(data);\r\n      }\r\n    }\r\n\r\n    changes.change = changes.adds.length > 0 || changes.modifies.length > 0 || changes.removes.length > 0;\r\n    return changes;\r\n  }\r\n\r\n  private toMap(array: TranslateRecord[]): { [key: string]: Translate } {\r\n    let map = {};\r\n    array.forEach((record, i) => {\r\n      for (let name in record) {\r\n        if (name == this.key) continue;\r\n        map[this.toIndex(record.key, name)] = this.buildTranslate(record.key, name, record[name]);\r\n      }\r\n    });\r\n    return map;\r\n  }\r\n\r\n  private buildTranslate(key: string = '', language: string = '', message: string = ''): Translate {\r\n    return {\r\n      group: this.group\r\n      , key: key\r\n      , language: language\r\n      , message: message\r\n    };\r\n  }\r\n\r\n  private toIndex(key: string, language: string) {\r\n    return key + '-' + language;\r\n  }\r\n\r\n\r\n}\r\n\r\n","<div class=\"view\">\r\n  <div class=\"ttb-flex-row\">\r\n    <div class=\"ttb-field\">\r\n      <button\r\n        class=\"ttb-button small cui-icon-ok\"\r\n        [disabled]=\"!isGroupChange()\"\r\n        (click)=\"rename()\"\r\n      ></button>\r\n      <input type=\"text\" [(ngModel)]=\"value\" />\r\n      <label [innerText]=\"ToolbarKey.Group\"></label>\r\n    </div>\r\n    <div class=\"ttb-field\">\r\n      <input\r\n        type=\"text\"\r\n        [(ngModel)]=\"keyword\"\r\n        (ngModelChange)=\"filter()\"\r\n        [disabled]=\"isChange()\"\r\n      />\r\n      <label [innerText]=\"ToolbarKey.Keyword\"></label>\r\n    </div>\r\n  </div>\r\n  <div class=\"ttb-button-row center\">\r\n    <button\r\n      class=\"ttb-button\"\r\n      (click)=\"save()\"\r\n      [disabled]=\"!isChange()\"\r\n      [innerText]=\"'Save'\"\r\n    ></button>\r\n    <button\r\n      class=\"ttb-button bg-dark\"\r\n      (click)=\"openDownload()\"\r\n      [innerText]=\"ToolbarKey.Download\"\r\n    ></button>\r\n    <button\r\n      class=\"ttb-button bg-dark\"\r\n      (click)=\"reset()\"\r\n      [disabled]=\"!isChange()\"\r\n      [innerText]=\"'reset'\"\r\n    ></button>\r\n  </div>\r\n  <span>count: {{ filterCount }}</span>\r\n  <div class=\"view-content\" [attr.nottranslate]=\"true\">\r\n    <div class=\"ttb-grid\">\r\n      <div class=\"ttb-grid-container\">\r\n        <table #table>\r\n          <thead>\r\n            <tr>\r\n              <th>\r\n                <button\r\n                  class=\"button ttb-button cui-icon-add\"\r\n                  (click)=\"addSource()\"\r\n                ></button>\r\n              </th>\r\n              <th>\r\n                <div class=\"nowrap\">\r\n                  <span [class]=\"sortClass(key)\" (click)=\"sortChange(key)\"\r\n                    >Key</span\r\n                  >\r\n                  <button\r\n                    class=\"ttb-button none small cui-icon-copy\"\r\n                    (click)=\"copy(key)\"\r\n                  ></button>\r\n                </div>\r\n                <textarea\r\n                  [(ngModel)]=\"propertyText[key]\"\r\n                  (ngModelChange)=\"onTextChange(key)\"\r\n                ></textarea>\r\n              </th>\r\n              <th *ngFor=\"let language of _languages\">\r\n                <div>\r\n                  <span\r\n                    [class]=\"sortClass(language)\"\r\n                    (click)=\"sortChange(language)\"\r\n                  >\r\n                    {{ language }}</span\r\n                  >\r\n                  <button\r\n                    class=\"ttb-button small none cui-icon-copy\"\r\n                    (click)=\"copy(language)\"\r\n                  ></button>\r\n                </div>\r\n                <textarea\r\n                  [(ngModel)]=\"propertyText[language]\"\r\n                  (ngModelChange)=\"onTextChange(language)\"\r\n                ></textarea>\r\n              </th>\r\n              <th></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody notTranslate>\r\n            <ng-container *ngFor=\"let record of records; let i = index\">\r\n              <tr [hidden]=\"!isFilter(i)\">\r\n                <td class=\"ttb-grid-column\" align=\"left\" nowrap=\"\" width=\"1%\">\r\n                  <button\r\n                    class=\"button ttb-button none small cui-icon-remove\"\r\n                    (click)=\"removeSource(record)\"\r\n                  ></button>\r\n                </td>\r\n                <td\r\n                  class=\" ttb-grid-column {{ getKeyClass(record[key]) }}\"\r\n                  align=\"left\"\r\n                  nowrap=\"\"\r\n                  width=\"1%\"\r\n                  #td\r\n                  (click)=\"onFocus(td)\"\r\n                >\r\n                  <div class=\"text\" [innerText]=\"record[key]\"></div>\r\n                  <input\r\n                    class=\"editor\"\r\n                    *ngIf=\"isFocus(td)\"\r\n                    [(ngModel)]=\"record[key]\"\r\n                    (ngModelChange)=\"onRecordChange(key)\"\r\n                    [placeholder]=\"'Please enter key'\"\r\n                    (blur)=\"onBlur()\"\r\n                    required\r\n                  />\r\n                </td>\r\n                <td\r\n                  *ngFor=\"let language of _languages; let i = index\"\r\n                  nowrap=\"\"\r\n                  width=\"1%\"\r\n                  class=\"ttb-grid-column\"\r\n                  align=\"left\"\r\n                  #td\r\n                  (click)=\"onFocus(td)\"\r\n                >\r\n                  <div class=\"text\" [innerText]=\"record[language]\"></div>\r\n                  <textarea\r\n                    class=\"editor\"\r\n                    *ngIf=\"isFocus(td)\"\r\n                    [value]=\"record[language]\"\r\n                    [(ngModel)]=\"record[language]\"\r\n                    (ngModelChange)=\"onRecordChange(language)\"\r\n                    (blur)=\"onBlur()\"\r\n                    required\r\n                    autofocus\r\n                  ></textarea>\r\n                </td>\r\n                <td width=\"100%\"></td>\r\n              </tr>\r\n            </ng-container>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<download-dialog></download-dialog>\r\n","import ToolbarKey from 'ts/translate/toolbar.key';\r\nimport { AfterViewInit, ChangeDetectorRef, Component, Input, NgZone, OnDestroy, ViewChild } from '@angular/core';\r\nimport { Delay, toDelayFn } from 'ts/lib/cui/core/decorators/delay';\r\nimport { DialogComponent } from 'app/app-common/component/dialog/dialog.component';\r\nimport { getTranslateGO } from 'translate-go/translate-go';\r\nimport { ImportDialogComponent } from '../import-dialog/import-dialog.component';\r\nimport { TabGroupComponent } from 'app/app-common/component/tabs/tab-group/tab-group.component';\r\nimport { TookTime, toTookTimeFn } from 'ts/lib/cui/core/decorators/took-time';\r\nimport { TranslateEvent } from 'translate-go/constant';\r\nimport { TranslateFile, TranslateOnSave } from 'translate-go/interface';\nimport { ToolTabComponent } from './tool-tab/tool-tab.component';\nimport { TabComponent } from '../../app-common/component/tabs/tab/tab.component';\nimport { TabGroupComponent as TabGroupComponent_1 } from '../../app-common/component/tabs/tab-group/tab-group.component';\nimport { NgFor } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { ShrinkComponent } from '../../app-common/component/shrink/shrink.component';\nimport { DialogComponent as DialogComponent_1 } from '../../app-common/component/dialog/dialog.component';\r\n\r\n@Component({\r\n    selector: 'tool-view',\r\n    templateUrl: './tool-view.component.html',\r\n    styleUrls: ['./tool-view.component.scss'],\r\n    standalone: true,\r\n    imports: [DialogComponent_1, ShrinkComponent, FormsModule, NgFor, TabGroupComponent_1, TabComponent, ToolTabComponent, ImportDialogComponent]\r\n})\r\nexport class ToolViewComponent implements AfterViewInit, OnDestroy {\r\n  public readonly ToolbarKey = ToolbarKey;\r\n\r\n  private readonly translateGO = getTranslateGO();\r\n\r\n  @ViewChild(DialogComponent)\r\n  private dialog: DialogComponent;\r\n\r\n  @ViewChild(TabGroupComponent)\r\n  private tabGroup: TabGroupComponent;\r\n\r\n  @ViewChild(ImportDialogComponent)\r\n  private importDialog: ImportDialogComponent;\r\n\r\n  public newLanguage = 'zh-TW';\r\n\r\n  public newLanguageMessage = '';\r\n\r\n  public newGroup = 'New';\r\n\r\n  public languages = [];\r\n\r\n  public groups: string[] = [];\r\n\r\n  private prepardActiveGroup = '';\r\n\r\n  @Input()\r\n  public onSave: TranslateOnSave;\r\n\r\n  constructor(private cdf: ChangeDetectorRef, private zone: NgZone) {\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.translateGO.addEventListener(TranslateEvent.SourceChanged, () => {\r\n      if (this.dialog.isOpen()) {\r\n        this.zone.run(() => {\r\n          this.init();\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.translateGO.removeAllEventListener(this);\r\n  }\r\n\r\n  public open() {\r\n    this.init();\r\n    this.dialog.open();\r\n  }\r\n\r\n  public isDisableLanguageButton(): boolean {\r\n    return !this.newLanguage || this.languages.indexOf(this.newLanguage) != -1;\r\n  }\r\n\r\n  public addLanguage() {\r\n    let language = this.newLanguage, languages = this.languages;\r\n    if (!language || languages.indexOf(language) > -1) {\r\n      return;\r\n    }\r\n    this.languages = [language, ...languages];\r\n  }\r\n\r\n  public removeLanguage(language: string) {\r\n    let languages = this.languages;\r\n    let index = languages.indexOf(language);\r\n    if (index == -1) return;\r\n    if (!window.confirm(`${this.translateGO.get('{SureDelete}')} '${language}'?`)) {\r\n      return;\r\n    }\r\n    languages.splice(index, 1);\r\n  }\r\n\r\n  public isDisableGroupButton(): boolean {\r\n    return !this.newGroup;\r\n  }\r\n\r\n  public addGroup() {\r\n    let group = this.newGroup;\r\n    if (this.groups.indexOf(group) != -1) {\r\n      alert(group + ' does exist!');\r\n      return;\r\n    }\r\n    this.groups.unshift(this.newGroup);\r\n    this.activeTab(0);\r\n  }\r\n\r\n  public activeTab = toDelayFn((index: number) => {\r\n    this.cdf.markForCheck();\r\n    if (this.tabGroup) {\r\n      this.tabGroup.active(index);\r\n    }\r\n  });\r\n\r\n  public onGroupChange(group: string) {\r\n    this.prepardActiveGroup = group;\r\n  }\r\n\r\n  public onGroupClose = (index: number, group: string) => {\r\n    this.removeGroup(group);\r\n  }\r\n\r\n  public removeGroup(group: string) {\r\n    if (!window.confirm(`${this.translateGO.get('{SureDelete}')} '${group}'?`)) {\r\n      return;\r\n    }\r\n    let index = this.groups.indexOf(group);\r\n    if (index == -1) return;\r\n    this.translateGO.removeLanguageSource(group);\r\n  }\r\n\r\n  public openSourceDialog() {\r\n    this.importDialog.open(this.languages);\r\n  }\r\n\r\n  public importSource = toTookTimeFn((group: string, sourceFiles: TranslateFile[]) => {\r\n    this.prepardActiveGroup = group;\r\n    for (let file of sourceFiles) {\r\n      this.translateGO.load(file.language, JSON.parse(file.content), group);\r\n    }\r\n  });\r\n\r\n  @Delay(50)\r\n  @TookTime\r\n  public init() {\r\n    this.cdf.markForCheck();\r\n    let groups = this.translateGO.getGroups();\r\n    this.groups.length = 0;\r\n    for (let i in groups) {\r\n      this.groups[i] = groups[i];\r\n    }\r\n    this.languages = this.translateGO.getLanguages();\r\n    if (this.prepardActiveGroup) {\r\n      this.activeTab(this.groups.indexOf(this.prepardActiveGroup));\r\n      this.prepardActiveGroup = undefined;\r\n    }\r\n  }\r\n}\r\n","<app-dialog #sourceDialog [windowSize]=\"'full'\">\r\n  <div class=\"ttb-tool view\">\r\n    <app-shrink>\r\n      <div shrink-title [innerText]=\"ToolbarKey.Settings\"></div>\r\n      <div class=\"ttb-flex-row\">\r\n        <div class=\"ttb-flex-shrink\">\r\n          <div>\r\n            <button\r\n              class=\"ttb-button cui-icon-add\"\r\n              [disabled]=\"isDisableLanguageButton()\"\r\n              (click)=\"addLanguage()\"\r\n            ></button>\r\n          </div>\r\n          <div style=\"width: 10em\">\r\n            <div class=\"ttb-field\">\r\n              <input type=\"text\" [(ngModel)]=\"newLanguage\" />\r\n              <label [innerText]=\"ToolbarKey.Language\"></label>\r\n              <div class=\"error-message\">{{ newLanguageMessage }}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <div class=\"ttb-flex-block\" *ngFor=\"let language of languages\">\r\n            <button\r\n              class=\"ttb-button none small cui-icon-remove\"\r\n              (click)=\"removeLanguage(language)\"\r\n            ></button>\r\n            {{ language }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"ttb-flex-row\">\r\n        <div class=\"ttb-flex-shrink\">\r\n          <button\r\n            class=\"ttb-button cui-icon-add\"\r\n            [disabled]=\"isDisableGroupButton()\"\r\n            (click)=\"addGroup()\"\r\n          ></button>\r\n        </div>\r\n        <div>\r\n          <div class=\"ttb-field\">\r\n            <input type=\"text\" [(ngModel)]=\"newGroup\" />\r\n            <label [innerText]=\"ToolbarKey.Group\"></label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"ttb-flex-row\">\r\n        <div class=\"ttb-flex-shrink\">\r\n          <button\r\n            class=\"ttb-button\"\r\n            [innerText]=\"ToolbarKey.Import\"\r\n            (click)=\"openSourceDialog()\"\r\n          ></button>\r\n        </div>\r\n      </div>\r\n    </app-shrink>\r\n\r\n    <app-tab-group class=\"view-content column\">\r\n      <app-tab\r\n        *ngFor=\"let group of groups; let i = index\"\r\n        [onClose]=\"onGroupClose\"\r\n        [value]=\"group\"\r\n      >\r\n        <div tab-label>\r\n          <h2>\r\n            {{ group }}\r\n          </h2>\r\n        </div>\r\n        <tool-tab\r\n          [(ngModel)]=\"groups[i]\"\r\n          (ngModelChange)=\"onGroupChange(groups[i])\"\r\n          [languages]=\"languages\"\r\n          [onSave]=\"onSave\"\r\n        ></tool-tab>\r\n      </app-tab>\r\n    </app-tab-group>\r\n  </div>\r\n  <import-dialog [onImport]=\"importSource\"></import-dialog>\r\n</app-dialog>\r\n","// The file contents for the current environment will overwrite these during build.\r\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\r\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\r\n// The list of which env maps to which file can be found in `.angular-cli.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n","\r\nimport { enableProdMode } from '@angular/core';\r\nimport { createCustomElement } from '@angular/elements';\r\nimport { createApplication } from '@angular/platform-browser';\r\nimport { AppComponent } from 'app/app.component';\r\nimport { TranslateToolbar } from 'translate-go/interface';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nfunction loadApp() {\r\n  createApplication({ providers: [] }).then((appRef) => {\r\n    // create a constructor of a custom element\r\n    const component = createCustomElement<TranslateToolbar>(\r\n      AppComponent, // component for Angular element\r\n      { injector: appRef.injector } // used to inject the component to the DOM\r\n    );\r\n  \r\n    // register in a browser\r\n    customElements.define('translate-toolbar', component);\r\n  });\r\n}\r\n\r\nsetTimeout(function () {\r\n  if (window['Zone'] === undefined) {\r\n    console.log('Unable to find zone, so loading one...');\r\n    import('zone.js/dist/zone')\r\n      .then(() => {\r\n        loadApp();\r\n      });\r\n  } else {\r\n    console.log('Found an existing Zone, so just reusing it');\r\n    loadApp();\r\n  }\r\n}, 1000);\r\n","\r\nexport enum TranslateEvent {\r\n  SourceChanged = 'sourceChanged',\r\n  LanguageChanged = 'languageChanged',\r\n}\r\n\r\nexport enum Sort {\r\n  ASC = 1\r\n  , DESC = -1\r\n}\r\n\r\nexport const TranslateConst = {\r\n  DefaultGroup: 'default',\r\n  // 忽略標籤\r\n  IgnoreTagArray: { 'SCRIPT': true, 'LINK': true, 'META': true, 'STYLE': true },\r\n  // 忽略Attribute\r\n  IgnoreAttributeName: 'nottranslate',\r\n  // translate group attribute name\r\n  TranslateGroup: 'translategroup',\r\n  // translate key attribute name\r\n  TranslateKey: 'translatekey',\r\n  // TranslateGO 在window 中的名稱\r\n  Prefix: '__translateGO',\r\n  // TranslateGO 在window 中的名稱\r\n  ConfigPrefix: '__translateConfig',\r\n};\r\n","import TranslateNode from \"./translate-node\";\r\n\r\nexport default class TranslateNodePlaceholder extends TranslateNode<HTMLInputElement> {\r\n  protected initKey(): string {\r\n    return this.node.placeholder;\r\n  }\r\n  protected setValue(text: string) {\r\n    this.node.placeholder = text;\r\n  }\r\n  protected getValue(): string {\r\n    return this.node.placeholder;\r\n  }\r\n}\r\n","import TranslateNode from './translate-node';\r\n\r\nexport default class TranslateNodeSubmit extends TranslateNode<HTMLInputElement> {\r\n  protected initKey(): string {\r\n    return this.node.value;\r\n  }\r\n\r\n  protected setValue(text: string) {\r\n    this.node.value = text;\r\n  }\r\n  protected getValue(): string {\r\n    return this.node.value;\r\n  }\r\n}\r\n","import TranslateNode from './translate-node';\r\n\r\nexport default class TranslateNodeText extends TranslateNode<HTMLElement> {\r\n\r\n  protected initKey() {\r\n    return (<Text>this.node.childNodes?.item(this.index))?.data || '';\r\n  }\r\n\r\n  protected setValue(data: string) {\r\n    if (this.index == -1) {\r\n      this.node.innerText = data;\r\n    } else {\r\n      let text = (<Text>this.node.childNodes.item(this.index));\r\n      if (text) {\r\n        if (text.nodeType == 3) {\r\n          text.data = data;\r\n        } else {\r\n          this.node.replaceChild(new Text(data), text);\r\n        }\r\n      } else {\r\n        this.node.insertBefore(new Text(data), this.node.childNodes.item(this.index - 1));\r\n      }\r\n    }\r\n  }\r\n\r\n  protected getValue(): string {\r\n    return (<Text>this.node.childNodes?.item(this.index))?.data || '';\r\n  }\r\n}\r\n","import TranslateGO from \"../translate-go\";\r\n\r\n\r\nexport default abstract class TranslateNode<T extends HTMLElement = any> {\r\n  protected readonly key;\r\n  private readonly source = {};\r\n  private readonly originValue;\r\n\r\n  constructor(\r\n    private readonly translateGo: TranslateGO,\r\n    protected readonly node: T,\r\n    protected readonly group: string,\r\n    key: string = '',\r\n    protected readonly index: number = -1\r\n  ) {\r\n    this.key = key ? key : this.initKey().trim();\r\n    this.originValue = this.getValue();\r\n  }\r\n\r\n  public getKey(): string {\r\n    return this.key;\r\n  }\r\n\r\n  public getNode(): T {\r\n    return <T>this.node.childNodes?.item(this.index) || this.node;\r\n  }\r\n\r\n  public match(): boolean {\r\n    return this.key != this.getTranslateText();\r\n  }\r\n\r\n  public translate(): string {\r\n    let text = this.getTranslateText();\r\n    if (text) {\r\n      if (this.getValue() != text) {\r\n        this.setValue(text);\r\n      }\r\n    } else {\r\n      this.setValue(this.originValue);\r\n    }\r\n    return text;\r\n  }\r\n\r\n  private getTranslateText(): string {\r\n    if (this.key.length == 0) { return this.key; }\r\n    let args = {};\r\n    for (let name of this.node.getAttributeNames()) {\r\n      args[name] = this.node.getAttribute(name);\r\n    }\r\n    let language = this.translateGo.getLanguage();\r\n    let text = this.translateGo.get(this.key, args, language, this.group);\r\n    if (text) {\r\n      this.source[language] = text;\r\n    }\r\n    return text;\r\n  }\r\n\r\n  public alive(): boolean {\r\n    if (this.node.isConnected) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  public destroy() {\r\n    this.setValue(this.originValue);\r\n  }\r\n\r\n  protected abstract initKey(): string;\r\n  protected abstract setValue(text: string);\r\n  protected abstract getValue(): string;\r\n}\r\n","import { TranslateArgs, TranslateGroupSource, TranslateLanguageSource, TranslateSource } from \"./interface\";\r\n\r\ninterface KeyMatchs {\r\n  [key: string]: boolean;\r\n}\r\n\r\nexport default class TranslateDB {\r\n  private readonly keyRegexp = new RegExp('([^$]?)\\{([^{}]+)}', 'g');\r\n\r\n  private readonly groups = [];\r\n  private readonly notFoundKeys: TranslateLanguageSource = {};\r\n  private readonly groupSource: TranslateGroupSource = {};\r\n\r\n  private cacheResult: TranslateGroupSource = {};\r\n\r\n\r\n  public load(language: string, source: TranslateSource, group: string) {\r\n    let target = this.getSource(group, language);\r\n    let cache = this.getCache(group, language);\r\n    for (let key in source) {\r\n      target[key] = source[key];\r\n      cache[key] = '';\r\n      delete this.getNotFoundSource(language)[key];\r\n    }\r\n    this.updateGroups();\r\n  }\r\n\r\n  public getNotFoundKeys(): TranslateLanguageSource {\r\n    return this.notFoundKeys;\r\n  }\r\n\r\n  public get(key: string, args: TranslateArgs = {}, language: string, group?: string): string {\r\n    let text;\r\n    if (group) {\r\n      text = this.find(key, args, language, group);\r\n    } else {\r\n      text = this.findAll(key, args, language)\r\n    }\r\n    if (!text) {\r\n      console.warn(key, 'translate source not found.');\r\n    }\r\n    return text;\r\n  }\r\n\r\n  public getGroups(): string[] {\r\n    return this.groups;\r\n  }\r\n\r\n  public getGroupSource(): TranslateGroupSource {\r\n    return this.groupSource;\r\n  }\r\n\r\n  public getLanguageSource(group: string): TranslateLanguageSource {\r\n    return this.groupSource[group];\r\n  }\r\n\r\n  public removeLanguageSource(group: string) {\r\n    delete this.groupSource[group];\r\n    this.updateGroups();\r\n  }\r\n\r\n  public clearCache() {\r\n    this.cacheResult = {};\r\n  }\r\n\r\n  private updateGroups() {\r\n    this.groups.length = 0;\r\n    for (let group in this.groupSource) {\r\n      this.groups.push(group);\r\n    }\r\n    this.groups.sort();\r\n  }\r\n\r\n  private findAll(key: string, args: TranslateArgs, language: string) {\r\n    let result = key;\r\n    for (let group in this.groupSource) {\r\n      let result = this.find(key, args, language, group);\r\n      if (result != key) return result;\r\n    }\r\n    return result;\r\n  }\r\n\r\n  private find(key: string, args: TranslateArgs, language: string, group: string, prevMatchKeys: KeyMatchs = {}): string {\r\n    if (!key) { return key; }\r\n    let cache = this.getCache(group, language);\r\n    let result = cache[key];\r\n    if (result) { return result; }\r\n    if (typeof key != 'string') {\r\n      console.warn('key must be a string.');\r\n      return key;\r\n    }\r\n\r\n    let presentMatchKeys = {};\r\n    let matchCount = 0;\r\n    result = key.replace(this.keyRegexp, (...matchs) => {\r\n      matchCount++;\r\n      let match = matchs[2];\r\n      if (!prevMatchKeys[match]) {\r\n        let text = this.getText(match, args, language, group);\r\n        if (text != undefined) {\r\n          if (this.keyRegexp.test(text)) {\r\n            presentMatchKeys[match] = true;\r\n          }\r\n          return matchs[1] + text;\r\n        }\r\n      }\r\n      return matchs[0];\r\n    });\r\n\r\n    if (matchCount == 0) {\r\n      return key;\r\n    }\r\n    if (this.isEmpty(presentMatchKeys)) {\r\n      if (this.isEmpty(args)) {\r\n        cache[key] = result;\r\n      }\r\n      return result;\r\n    } else {\r\n      for (let name in presentMatchKeys) {\r\n        prevMatchKeys[name] = presentMatchKeys[name];\r\n      }\r\n      return this.find(result, args, language, group, prevMatchKeys);\r\n    }\r\n  }\r\n\r\n  private getText(key: string, args: TranslateArgs, language: string, group: string): string {\r\n    let result = args[key];\r\n    if (result != undefined) {\r\n      return result;\r\n    }\r\n    let source = this.getSource(group, language);\r\n    result = source[key];\r\n    if (result) {\r\n      return result;\r\n    } else {\r\n      this.getNotFoundSource(language)[key] = key;\r\n      return undefined;\r\n    }\r\n  }\r\n\r\n  private isEmpty(object): boolean {\r\n    for (let i in object) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  private getCache(group: string, language: string): TranslateSource {\r\n    let temp = (this.cacheResult[group] || (this.cacheResult[group] = {}));\r\n    return temp[language] || (temp[language] = {});\r\n  }\r\n\r\n  private getSource(group: string, language: string): TranslateSource {\r\n    let temp = (this.groupSource[group] || (this.groupSource[group] = {}));\r\n    return temp[language] || (temp[language] = {});\r\n  }\r\n\r\n  private getNotFoundSource(language: string): TranslateSource {\r\n    return this.notFoundKeys[language] || (this.notFoundKeys[language] = {});\r\n  }\r\n}\r\n","import TranslateDB from './translate-db';\r\nimport TranslateNode from './nodes/translate-node';\r\nimport TranslateNodePlaceholder from './nodes/translate-node-placeholder';\r\nimport TranslateNodeSubmit from './nodes/translate-node-submit';\r\nimport TranslateNodeText from './nodes/translate-node-text';\r\nimport { Delay } from '../ts/lib/cui/core/decorators/delay';\r\nimport { EventListenerContainer } from '../ts/lib/cui/core/listener/event-listener-container';\r\nimport { TranslateArgs, TranslateGroupSource, TranslateLanguageSource, TranslateSource } from './interface';\r\nimport { TranslateConst, TranslateEvent } from './constant';\r\n\r\n\r\nwindow['getTranslateGO'] = getTranslateGO;\r\n\r\n/**\r\n * 取得TranslateGO\r\n */\r\nexport function getTranslateGO(): TranslateGO {\r\n  if (window[TranslateConst.Prefix]) {\r\n    return window[TranslateConst.Prefix];\r\n  } else {\r\n    return window[TranslateConst.Prefix] = new TranslateGO();\r\n  }\r\n}\r\n\r\nexport default class TranslateGO {\r\n  private readonly listeners = new EventListenerContainer<TranslateEvent, Function>();\r\n  private readonly ignoreMap = new Map<Node, boolean>();\r\n  private readonly translateGroupMap = new Map<Node, string>();\r\n  private readonly nodeMap = new Map<Node, TranslateNode>();\r\n\r\n  private readonly mutationObserver = new MutationObserver((mutations) => {\r\n    this.mutationObserverHandler(mutations);\r\n  });\r\n\r\n  private db: TranslateDB = new TranslateDB();\r\n\r\n  private language = navigator.language;\r\n  private scanning = false;\r\n  private languages = [];\r\n\r\n  public getLanguage(): string {\r\n    return this.language;\r\n  }\r\n  public getLanguages(): string[] {\r\n    return this.languages;\r\n  }\r\n\r\n  public translate(language: string, force = false) {\r\n    if (!force && this.language == language) return;\r\n    this.language = language;\r\n    this.doTranslate(this.nodeMap, force);\r\n    this.listeners.dispatch(TranslateEvent.LanguageChanged);\r\n  }\r\n\r\n  public load(language: string, source: TranslateSource, group?: string) {\r\n    this.doLoad(language, source, group);\r\n    this.doStart();\r\n    this.listeners.dispatch(TranslateEvent.SourceChanged);\r\n  }\r\n\r\n  public loadAll(languageSource: TranslateLanguageSource, group?: string) {\r\n    for (let language in languageSource) {\r\n      this.doLoad(language, languageSource[language], group);\r\n    }\r\n    this.doStart();\r\n    this.listeners.dispatch(TranslateEvent.SourceChanged);\r\n  }\r\n\r\n  private doLoad(language: string, source: TranslateSource, group: string = TranslateConst.DefaultGroup) {\r\n    if (this.languages.indexOf(language) == -1) {\r\n      this.languages.push(language);\r\n    }\r\n    this.db.load(language, source, group);\r\n  }\r\n\r\n  public removeLanguageSource(group: string) {\r\n    this.db.removeLanguageSource(group);\r\n    this.listeners.dispatch(TranslateEvent.SourceChanged);\r\n  }\r\n\r\n  public clearSource() {\r\n    this.db = new TranslateDB();\r\n    this.languages.length = 0;\r\n  }\r\n\r\n  public isScanning(): boolean {\r\n    return this.scanning;\r\n  }\r\n\r\n  public start() {\r\n    if (this.scanning) { return; }\r\n    this.doStart();\r\n  }\r\n\r\n  public stop() {\r\n    this.removeEvents();\r\n    this.scanning = false;\r\n    this.clear();\r\n  }\r\n\r\n  public addEventListener(event: TranslateEvent, callback: Function, target?: any) {\r\n    this.listeners.addListener(event, callback, target);\r\n  }\r\n\r\n  public removeEventListener(event: TranslateEvent, callback: Function) {\r\n    this.listeners.removeListener(event, callback);\r\n  }\r\n\r\n  public removeAllEventListener(target: any) {\r\n    this.listeners.removeAllListener(target);\r\n  }\r\n\r\n\r\n  public get(key: string, args: TranslateArgs = {}, language: string = this.language, group?: string): string {\r\n    return this.db.get(key, args, language, group);\r\n  }\r\n\r\n  public getNotFoundKeys(): TranslateLanguageSource {\r\n    return this.db.getNotFoundKeys();\r\n  }\r\n\r\n  public getGroups(): string[] {\r\n    return this.db.getGroups();\r\n  }\r\n\r\n  public getGroupSource(): TranslateGroupSource {\r\n    return this.db.getGroupSource();\r\n  }\r\n\r\n  public getLanguageSource(group: string): TranslateLanguageSource {\r\n    return this.db.getLanguageSource(group);\r\n  }\r\n\r\n  private doStart() {\r\n    this.removeEvents();\r\n    this.scanning = true;\r\n    this.scan(document.head);\r\n    this.scan(document.body);\r\n    this.doTranslate(this.nodeMap, true);\r\n  }\r\n\r\n  private mutationObserverHandler(mutations: MutationRecord[]) {\r\n    let map = new Map<Node, TranslateNode>();\r\n    mutations.forEach((mutation) => {\r\n      switch (mutation.type) {\r\n        case 'attributes':\r\n          this.scanAttribute(mutation.target, mutation.attributeName, map);\r\n          break;\r\n        case 'characterData':\r\n          if (mutation.target instanceof Text) {\r\n            this.scanText(mutation.target, map);\r\n          }\r\n          break;\r\n        case 'childList':\r\n          this.scan(<HTMLElement>mutation.target, map);\r\n          break;\r\n      }\r\n    });\r\n    if (map.size > 0) {\r\n      this.doTranslate(map);\r\n      this.clearRemoveNode();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 監聽 Element 新增跟異動事件\r\n   */\r\n  private addEvents() {\r\n    if (this.scanning) {\r\n      this.mutationObserver.observe(document.documentElement, {\r\n        attributeFilter: ['value', 'type', TranslateConst.TranslateKey, TranslateConst.IgnoreAttributeName]\r\n        , attributes: true\r\n        , childList: true\r\n        , characterData: true\r\n        , subtree: true\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 移除 Element 新增跟異動事件\r\n   */\r\n  private removeEvents() {\r\n    this.mutationObserver.disconnect();\r\n  }\r\n\r\n  private scanAttribute(target, key: string, map?: Map<Node, TranslateNode>) {\r\n    key = key.toLowerCase();\r\n    switch (key) {\r\n      case TranslateConst.TranslateKey:\r\n        let value = target.getAttribute(key);\r\n        let translateNode: TranslateNode;\r\n        if (target instanceof HTMLInputElement) {\r\n          translateNode = new TranslateNodeSubmit(this, target, value);\r\n          this.addNode(translateNode, map);\r\n        } else {\r\n          translateNode = new TranslateNodeText(this, target, value);\r\n          this.addNode(translateNode, map);\r\n        }\r\n        break;\r\n      case TranslateConst.IgnoreAttributeName:\r\n        if (target.getAttribute(TranslateConst.IgnoreAttributeName) != 'false') {\r\n          this.nodeMap.delete(target);\r\n          this.translateGroupMap.delete(target);\r\n          this.ignoreMap.set(target, true);\r\n        }\r\n        break;\r\n      case 'value':\r\n      case 'type':\r\n        this.addNode(new TranslateNodeSubmit(this, target, this.findGroup(target)), map);\r\n        break;\r\n    }\r\n  }\r\n\r\n  private scan(node: HTMLElement, map?: Map<Node, TranslateNode>, index = -1) {\r\n    // node is Text\r\n    if (node instanceof Text) {\r\n      this.scanText(node, map, index);\r\n    } else if (node.nodeType == 1) {\r\n      if (this.ignore(node)) { return; }\r\n      let element = <HTMLElement>node;\r\n      let key = element.getAttribute(TranslateConst.TranslateKey);\r\n      if (element instanceof HTMLInputElement) {\r\n        if (\r\n          element.tagName == 'INPUT'\r\n          && element.value != undefined\r\n          && (element?.type || '').toLowerCase() == 'submit'\r\n        ) {\r\n          // find sumbit button\r\n          this.addNode(new TranslateNodeSubmit(this, element, key), map);\r\n        } else if (element.placeholder != undefined && element.placeholder != '') {\r\n          // find input or textarea placeholder\r\n          this.addNode(new TranslateNodePlaceholder(this, element, this.findGroup(element), key), map);\r\n        }\r\n      } else {\r\n        if (key) {\r\n          this.addNode(new TranslateNodeText(this, element, this.findGroup(element), key), map);\r\n        } else {\r\n          element.childNodes.forEach((child, i) => {\r\n            this.scan(<HTMLElement>child, map, i);\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private scanText(node: Text, map?: Map<Node, TranslateNode>, index = -1) {\r\n    let parent = this.getParent(node);\r\n    if (this.ignore(parent)) { return; }\r\n    // node is Text\r\n    let key = parent.getAttribute(TranslateConst.TranslateKey);\r\n    this.addNode(new TranslateNodeText(this, parent, this.findGroup(parent), key, index), map);\r\n  }\r\n\r\n  private addNode(translateNode: TranslateNode, map?: Map<Node, TranslateNode>) {\r\n    if (translateNode.match()) {\r\n      this.nodeMap.set(translateNode.getNode(), translateNode);\r\n      if (map) {\r\n        map.set(translateNode.getNode(), translateNode);\r\n      }\r\n    }\r\n  }\r\n\r\n  private ignore(node: HTMLElement): boolean {\r\n    if (node) {\r\n      if (this.ignoreMap.get(node)) {\r\n        return true;\r\n      }\r\n      if (this.translateGroupMap.get(node)) {\r\n        return false;\r\n      }\r\n      if (node == document.documentElement) {\r\n        return false;\r\n      }\r\n      if (node.nodeType == 1) {\r\n        let element = <HTMLElement>node;\r\n        if (TranslateConst.IgnoreTagArray[element.tagName]) {\r\n          return true;\r\n        }\r\n        let value = element.getAttribute(TranslateConst.IgnoreAttributeName);\r\n        if (value == undefined || value == 'false') {\r\n          let ignore = this.ignore(this.getParent(element));\r\n          if (ignore) {\r\n            this.ignoreMap.set(element, true);\r\n          } else {\r\n            this.translateGroupMap.set(element, element.getAttribute(TranslateConst.TranslateGroup) || TranslateConst.DefaultGroup);\r\n          }\r\n          return ignore;\r\n        } else {\r\n          this.ignoreMap.set(element, true);\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  private findGroup(element: HTMLElement): string {\r\n    while (element != document.documentElement) {\r\n      let group = element.getAttribute(TranslateConst.TranslateGroup);\r\n      if (group) {\r\n        return group;\r\n      }\r\n      element = this.getParent(element);\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  private getParent(element: Node): HTMLElement {\r\n    if (element.parentElement != undefined) {\r\n      return element.parentElement;\r\n    }\r\n    if (element.parentNode != undefined) {\r\n      return element.parentNode as HTMLElement;\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  private doTranslate(map: Map<Node, TranslateNode>, force = false) {\r\n    this.removeEvents();\r\n    if (force) {\r\n      this.db.clearCache();\r\n    }\r\n    let t = Date.now();\r\n    map.forEach((v, k, m) => {\r\n      if (v.alive()) {\r\n        v.translate();\r\n      } else {\r\n        v.destroy();\r\n        m.delete(k);\r\n      }\r\n    });\r\n    console.log('translate count:', map.size, ' time:', Date.now() - t);\r\n    this.addEvents();\r\n  }\r\n\r\n  @Delay(10000)\r\n  private clearRemoveNode() {\r\n    this.doClearRemoveNode();\r\n  }\r\n\r\n  private doClearRemoveNode = () => {\r\n    let ignoreSize = this.ignoreMap.size;\r\n    this.ignoreMap.forEach((v, k, m) => {\r\n      if (!k.isConnected) {\r\n        m.delete(k);\r\n      }\r\n    });\r\n\r\n    let translateSize = this.translateGroupMap.size;\r\n    this.translateGroupMap.forEach((v, k, m) => {\r\n      if (!k.isConnected) {\r\n        m.delete(k);\r\n      }\r\n    });\r\n    console.log('translate clear ignore size '\r\n      , ignoreSize, '>', this.ignoreMap.size\r\n      , ' translate size '\r\n      , translateSize, '>', this.translateGroupMap.size\r\n    );\r\n  }\r\n\r\n  private clear() {\r\n    this.nodeMap.forEach(node => {\r\n      node.destroy();\r\n    });\r\n    this.nodeMap.clear();\r\n    this.ignoreMap.clear();\r\n    this.translateGroupMap.clear();\r\n  }\r\n}\r\n","export { deepClone, clone } from './core/clone';\r\nexport { CUI } from './core/cui';\r\nexport { Combobox, ComboboxData, ValueNameRender, ValueName, ComboboxCallback } from './core/common';\r\n\r\nexport { AbstractStroage } from './core/storage/abstract-storage';\r\nexport { LocalStorageManager } from './core/storage/local-storage-manager';\r\nexport { SessionStorageManager } from './core/storage/session-storage-manager';\r\n\r\nexport { Cache } from './core/decorators/cache';\r\nexport { Async } from './core/decorators/async';\r\nexport { Delay, toDelayFn as ToDelayFn } from './core/decorators/delay';\r\n\r\nexport { Loader } from './core/component/loader';\r\nexport { Overlay } from './core/component/overlay';\r\nexport { ListenerContainer } from './core/listener/listener-container';\r\nexport { EventListenerContainer } from './core/listener/event-listener-container';\r\n","export function clone(...args) {\r\n    return doClone(args);\r\n}\r\n\r\nexport function deepClone(...args) {\r\n    return doClone(args, []);\r\n}\r\n\r\nfunction doClone(args, logs?) {\r\n    // tslint:disable-next-line:variable-name\r\n    let source;\r\n    // tslint:disable-next-line:variable-name\r\n    let dest;\r\n\r\n    if (args.length === 1) {\r\n        source = args[0];\r\n    } else if (args.length === 2) {\r\n        dest = args[0];\r\n        source = args[1];\r\n    } else {\r\n        return;\r\n    }\r\n    if (Array.isArray(source)) {\r\n        dest = Array.isArray(dest) ? dest : [];\r\n    } else if (isObject(source)) {\r\n        dest = isObject(dest) ? dest : {};\r\n    } else {\r\n        // tslint:disable-next-line:triple-equals\r\n        return source == undefined ? dest : source;\r\n    }\r\n    if (logs === undefined) {\r\n        return copy(dest, source);\r\n    } else {\r\n        return deepCopy(logs, dest, source);\r\n    }\r\n}\r\n\r\n/**\r\n * 複製\r\n */\r\nfunction copy(dest, source) {\r\n    // tslint:disable-next-line:forin\r\n    for (let i in source) {\r\n        dest[i] = source[i];\r\n    }\r\n    return dest;\r\n}\r\n\r\n/**\r\n * 複製\r\n */\r\nfunction deepCopy(logs, dest, source) {\r\n    if (logs.indexOf(source) !== -1) {\r\n        return source;\r\n    }\r\n    logs.push(source);\r\n    // tslint:disable-next-line:forin\r\n    for (let i in source) {\r\n        dest[i] = getValue(logs, dest[i], source[i]);\r\n    }\r\n    return dest;\r\n}\r\n\r\nfunction getValue(logs, dest, source) {\r\n    if (Array.isArray(source)) {\r\n        return deepCopy(logs, dest || [], source);\r\n    } else if (isObject(source)) {\r\n        return deepCopy(logs, dest || {}, source);\r\n    } else {\r\n        return source;\r\n    }\r\n}\r\n\r\nfunction isObject(value): boolean {\r\n    if (value === null || value === undefined) {\r\n        return false;\r\n    }\r\n    return (value.constructor === Object);\r\n}","\r\n/**\r\n * Loader物件\r\n * by clare\r\n */\r\nexport class Loader {\r\n  private static readonly defText = '處理中';\r\n  private static readonly loadHtml: string = [\r\n    ' <div class=\"ttb-loader-block\">',\r\n    '   <div class=\"ttb-loading\"></div>',\r\n    '   <div class=\"text\"></div>',\r\n    ' </div>'].join('');\r\n  private element: HTMLElement;\r\n  private textElement: Element;\r\n  private openCount = 0;\r\n  private defauleZIndex = '999';\r\n  private openTimer;\r\n\r\n  constructor() {\r\n    this.element = this.create();\r\n    this.textElement = this.element.querySelector('.text');\r\n  }\r\n\r\n  /**\r\n   * 回傳物件\r\n   */\r\n  public getElement = () => {\r\n    return this.element;\r\n  }\r\n\r\n  public message = (msg?: string) => {\r\n    if (msg) {\r\n      this.textElement.innerHTML = msg;\r\n    } else {\r\n      this.textElement.innerHTML = Loader.defText;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 延遲開啟繞圈圈動畫，如果等待時間太短就不用出現\r\n   * @param {string} msg 顯示訊息\r\n   * @param {any} zIndex css z-index\r\n   */\r\n  public open = (msg?: string, zIndex?: any) => {\r\n    this.openCount++;\r\n    clearTimeout(this.openTimer);\r\n    this.openTimer = setTimeout(this.doOpen.bind(this, msg, zIndex), 300);\r\n  }\r\n\r\n  public openNotDelay = (msg?: string, zIndex?: any) => {\r\n    this.openCount++;\r\n    this.doOpen(msg, zIndex);\r\n  }\r\n\r\n  /**\r\n   * 開啟繞圈圈動畫\r\n   * @param {string} msg 顯示訊息\r\n   * @param {any} zIndex css z-index\r\n   */\r\n  private doOpen = (msg?: string, zIndex?: any) => {\r\n    if (this.openCount > 0) {\r\n      if (zIndex) {\r\n        this.element.style.zIndex = zIndex;\r\n      } else {\r\n        this.element.style.zIndex = this.defauleZIndex;\r\n      }\r\n      if (msg) {\r\n        this.textElement.innerHTML = msg;\r\n      } else {\r\n        this.textElement.innerHTML = Loader.defText;\r\n      }\r\n      this.element.classList.add('show');\r\n      this.addParentClass();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 關閉繞圈圈\r\n   */\r\n  public close = () => {\r\n    if (--this.openCount > 0) { return; }\r\n    clearTimeout(this.openTimer);\r\n    this.openCount = 0;\r\n    this.element.style.zIndex = '';\r\n    this.element.classList.remove('show');\r\n    this.removeParentClass();\r\n  }\r\n\r\n  /**\r\n   * 絕對關閉繞圈圈\r\n   */\r\n  public closeAll = () => {\r\n    this.openCount = 0;\r\n    this.element.style.zIndex = '';\r\n    this.element.classList.remove('show');\r\n    this.removeParentClass();\r\n  }\r\n\r\n  /**\r\n   * 產生繞圈圈物件\r\n   */\r\n  private create = () => {\r\n    let element = document.createElement('div');\r\n    element.className = 'ttb-loader';\r\n    element.innerHTML = Loader.loadHtml;\r\n    return element;\r\n  }\r\n\r\n  private addParentClass() {\r\n    if (this.element && this.element.parentElement) {\r\n      this.element.parentElement.classList.add('ttb-loader-hidden');\r\n    }\r\n  }\r\n  private removeParentClass() {\r\n    if (this.element && this.element.parentElement) {\r\n      this.element.parentElement.classList.remove('ttb-loader-hidden');\r\n    }\r\n  }\r\n}\r\nwindow['loader'] = new Loader();\r\n","\r\nimport { clone } from '../clone';\r\nimport { CUI } from '../cui';\r\nimport { Async } from '../decorators/async';\r\n\r\nexport enum OverlayClassName {\r\n  overlay = 'ttb-overlay'\r\n  , screen = 'ttb-overlay-screen'\r\n  , bodyOpen = 'ttb-overlay-open'\r\n  , open = 'open'\r\n}\r\n\r\ninterface OverlayConfig {\r\n  zIndex?: number;\r\n  onOpen?: Function;\r\n  canClose?: () => boolean;\r\n  onClose?: Function;\r\n}\r\n\r\n/**\r\n * 用來擺放dialog\r\n */\r\nexport class Overlay {\r\n  private static openCount = 0;\r\n  private static zIndex = 0;\r\n  private element: HTMLDivElement;\r\n  private screenElement: HTMLDivElement;\r\n  private show = false;\r\n  private config: OverlayConfig;\r\n  private timer;\r\n\r\n  constructor(config: OverlayConfig = {}) {\r\n    this.config = clone({\r\n      zIndex: 100\r\n      , onOpen: () => { }\r\n      , onClose: () => { }\r\n    }, config);\r\n    this.element = document.createElement('div');\r\n    this.element.className = OverlayClassName.overlay;\r\n    this.screenElement = document.createElement('div');\r\n    this.screenElement.className = OverlayClassName.screen;\r\n  }\r\n\r\n  public getElement(): HTMLElement {\r\n    return this.element;\r\n  }\r\n\r\n  /**\r\n   * 順序很重要\r\n   * 開啟\r\n  */\r\n  public open() {\r\n    if (this.show) {\r\n      return;\r\n    }\r\n    if (!this.screenElement.isConnected) {\r\n      document.body.appendChild(this.screenElement);\r\n    }\r\n    if (!this.element.isConnected) {\r\n      document.body.appendChild(this.element);\r\n    }\r\n    this.show = true;\r\n    Overlay.openCount++;\r\n    clearTimeout(this.timer);\r\n    this.timer = this.doOpen();\r\n  }\r\n\r\n  @Async()\r\n  private doOpen() {\r\n    this.screenElement.style.zIndex = String(++Overlay.zIndex + this.config.zIndex);\r\n    this.element.style.zIndex = String(++Overlay.zIndex + this.config.zIndex);\r\n    this.screenElement.classList.add(OverlayClassName.open);\r\n    this.element.classList.add(OverlayClassName.open);\r\n\r\n    this.config.onOpen();\r\n  }\r\n\r\n  /**\r\n   * 關閉\r\n   * callback 等到關閉動畫完成後呼叫\r\n  */\r\n  public close() {\r\n    if (!this.show) {\r\n      return;\r\n    }\r\n    this.show = false;\r\n    if (--Overlay.openCount <= 0) {\r\n      Overlay.openCount = 0;\r\n      Overlay.zIndex = 0;\r\n    }\r\n    this.element.addEventListener('transitionend', this.doRemove);\r\n    this.element.classList.remove(OverlayClassName.open);\r\n    this.screenElement.classList.remove(OverlayClassName.open);\r\n    clearTimeout(this.timer);\r\n  }\r\n\r\n  private doRemove = () => {\r\n    this.element.removeEventListener('transitionend', this.doRemove);\r\n    this.config.onClose();\r\n    CUI.remove(this.element);\r\n    CUI.remove(this.screenElement);\r\n  }\r\n\r\n  /**\r\n   * 移除物件\r\n  */\r\n  public destory() {\r\n    clearTimeout(this.timer);\r\n    CUI.remove(this.element);\r\n    CUI.remove(this.screenElement);\r\n    this.element = null;\r\n    this.screenElement = null;\r\n  }\r\n}\r\n\r\n","import { Combobox, ValueNameRender, ValueName, SubmitConfig } from './common';\r\n\r\n/**\r\n * 負責處理一些有的沒有的\r\n * by clare\r\n */\r\nexport class CUI {\r\n\r\n  /**\r\n   * 防止XSS\r\n   * @author Clare\r\n   * @param {String}\r\n   * @return {String}\r\n   */\r\n  public static escaped = (() => {\r\n    const _key = {\r\n      '<': '&lt;',\r\n      '>': '&gt;',\r\n      '&': '&amp;',\r\n      '/': '&#x2F;',\r\n      '\"': '&quot;',\r\n      '\\'': '&#x27;'\r\n    };\r\n    function _escaped(m) {\r\n      return _key[m];\r\n    }\r\n    return (str: string): string => {\r\n      return String(str).replace(/[<>&/\\\"\\']/g, _escaped);\r\n    };\r\n  })();\r\n\r\n  /**\r\n   * 字串格式化\r\n   * @param {String} str 字串\r\n   * @param {Object} values 替換參數\r\n   * @return {String} str\r\n   */\r\n  public static format = (() => {\r\n    let regCache = {};\r\n    function _getRegExp(key) {\r\n      return (regCache[key] || (regCache[key] = new RegExp('\\\\{\\\\{' + key + '\\\\}\\\\}', 'gm')));\r\n    }\r\n    return (str: string, values: Object): string => {\r\n      if (!CUI.isObject(values)) {\r\n        return str;\r\n      }\r\n      for (let i in values) {\r\n        str = str.replace(_getRegExp(i), values[i]);\r\n      }\r\n      return str;\r\n    };\r\n  })();\r\n\r\n  /**\r\n   * 將json 轉成 html\r\n   * @param {String or Object} str\r\n   * @return {String} html\r\n   */\r\n  public static printJson = (function () {\r\n    const _space = '&emsp;&emsp;';\r\n    const _nameHtml = '<span>\"{{text}}\"</span>';\r\n    const _valueStringHtml = '<span style=\"color:#690\">\"{{text}}\"</span>';\r\n    const _valueHtml = '<span style=\"color:#a11\">{{text}}</span>';\r\n    let _nowSpace = '';\r\n\r\n    return function (str: any): string {\r\n      _nowSpace = '';\r\n      if (!str) {\r\n        return str;\r\n      }\r\n      if (str.constructor === Object) {\r\n        return _toHtml(str);\r\n      } if (str.constructor === Array) {\r\n        return _toHtml(str);\r\n      } else if (typeof str === 'string') {\r\n        try {\r\n          return _toHtml(JSON.parse(str.replace(/\\n/g, '\\\\\\\\n')));\r\n        } catch (e) {\r\n          return str;\r\n        }\r\n      } else {\r\n        return str;\r\n      }\r\n    };\r\n\r\n    function _toHtml(data): string {\r\n      if (!data) {\r\n        return _getValue(data);\r\n      }\r\n      if (data.constructor === Object) {\r\n        return _objectToHtml(data);\r\n      } else if (data.constructor === Array) {\r\n        return _arrayToHtml(data);\r\n      } else {\r\n        return _getValue(data);\r\n      }\r\n    }\r\n\r\n    function _objectToHtml(obj): string {\r\n      let html = '{<br>';\r\n      let hasData = false;\r\n      _nowSpace += _space;\r\n\r\n      for (let i in obj) {\r\n        hasData = true;\r\n        html += _nowSpace + _getName(i) + '&emsp;:&emsp;' + _toHtml(obj[i]) + ',<br>';\r\n      }\r\n      _nowSpace = _nowSpace.replace(_space, '');\r\n      html += _nowSpace + '}';\r\n      if (hasData) {\r\n        return html;\r\n      } else {\r\n        return '{}';\r\n      }\r\n    }\r\n\r\n    function _arrayToHtml(array): string {\r\n      let nowrap = array.length < 3 ? '' : '<br>';\r\n      let html = '[' + nowrap;\r\n      _nowSpace += _space;\r\n      let thatSpace = (nowrap && _nowSpace);\r\n      for (let i in array) {\r\n        array[i] = _toHtml(array[i]);\r\n      }\r\n      html += thatSpace + array.join(',' + nowrap + thatSpace);\r\n      _nowSpace = _nowSpace.replace(_space, '');\r\n      thatSpace = (nowrap && _nowSpace);\r\n      html += nowrap + thatSpace + ']';\r\n      return html;\r\n    }\r\n\r\n    function _getName(text): string {\r\n      return CUI.format(_nameHtml, { text: CUI.escaped(text) });\r\n    }\r\n\r\n    function _getValue(text): string {\r\n      if (typeof text === 'string') {\r\n        return CUI.format(_valueStringHtml, { text: CUI.escaped(text) });\r\n      } else {\r\n        return CUI.format(_valueHtml, { text: CUI.escaped(text) });\r\n      }\r\n    }\r\n  })();\r\n\r\n  /**\r\n   * 延遲執行方法\r\n   * @param name\r\n   * @param delay ms\r\n   * @param function\r\n   */\r\n  public static delayAction = (() => {\r\n    let _timers = {};\r\n\r\n    return function (name: string, delay: number, fn: Function) {\r\n      if (_timers[name]) {\r\n        clearTimeout(_timers[name]);\r\n      }\r\n      let args = [].slice.call(arguments, 3);\r\n      _timers[name] = setTimeout(function () {\r\n        fn.apply(null, args);\r\n        delete _timers[name];\r\n      }, delay);\r\n    };\r\n  })();\r\n\r\n  /**\r\n   * 是否為空值\r\n   * @param {?} value\r\n   * @return {Boolean}\r\n   */\r\n  public static isEmpty(value) {\r\n    if (value === null || value === undefined || value == '') {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * 是否為純Array\r\n   * @param {?} value\r\n   * @return {Boolean}\r\n   */\r\n  public static isArray(value) {\r\n    return (value instanceof Array);\r\n  }\r\n\r\n  /**\r\n   * 是否為純Object\r\n   * @param {?} value\r\n   * @return {Boolean}\r\n   */\r\n  public static isObject(value) {\r\n    if (value === null || value === undefined) {\r\n      return false;\r\n    }\r\n    return (value.constructor === Object);\r\n  }\r\n\r\n  /**\r\n   * 是否為空物件\r\n   * @param {?} value\r\n   * @return {Boolean}\r\n   */\r\n  public static isEmptyObject(value): boolean {\r\n    if (value) {\r\n      for (let i in value) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * 是否為純Function\r\n   * @param {?} value\r\n   * @return {Boolean}\r\n   */\r\n  public static isFunction(value) {\r\n    return (value instanceof Function);\r\n  }\r\n\r\n  /**\r\n   * 空值轉換為預設值\r\n   * @param {?} value\r\n   * @param {?} def\r\n   * @return {?} value or default\r\n   */\r\n  public static emptyToDefault(value, def) {\r\n    return CUI.isEmpty(value) ? def : value;\r\n  }\r\n  /**\r\n   * 減少程式碼XD\r\n   * @param fn 想要執行的function，不存在也會過濾掉\r\n   * @param thisArgs\r\n   */\r\n  public static callFunction(fn: Function, thisArgs?, ...data) {\r\n    if (CUI.isFunction(fn)) {\r\n      return fn.apply(thisArgs, [].slice.call(arguments, 2));\r\n    }\r\n    return;\r\n  }\r\n\r\n  /**\r\n   * 深複製\r\n   * 1. deepClone(被複製物件) 回傳全新物件\r\n   * 2. deepClone(目標物件，被複製物件)\r\n   * @param data\r\n   */\r\n  public static deepClone(...data) {\r\n    let _orginData;\r\n    let _destData;\r\n    // 紀錄複製的物件，避免無窮遞迴\r\n    let _logArray = [];\r\n\r\n    if (arguments.length === 1) {\r\n      _orginData = arguments[0];\r\n    } else if (arguments.length === 2) {\r\n      _destData = arguments[0];\r\n      _orginData = arguments[1];\r\n    } else {\r\n      return;\r\n    }\r\n    if (CUI.isArray(_orginData)) {\r\n      _destData = CUI.isArray(_destData) ? _destData : [];\r\n    } else if (CUI.isObject(_orginData)) {\r\n      _destData = CUI.isObject(_destData) ? _destData : {};\r\n    } else {\r\n      return _orginData == undefined ? _destData : _orginData;\r\n    }\r\n    return _copy(_destData, _orginData);\r\n\r\n    /**\r\n     * 複製\r\n     */\r\n    function _copy(dest, orgin) {\r\n      if (_logArray.indexOf(orgin) !== -1) {\r\n        return orgin;\r\n      }\r\n      _logArray.push(orgin);\r\n      for (let i in orgin) {\r\n        dest[i] = _getValue(orgin[i]);\r\n      }\r\n      return dest;\r\n    }\r\n\r\n    function _getValue(v) {\r\n      if (CUI.isArray(v)) {\r\n        return _copy([], v);\r\n      } else if (CUI.isObject(v)) {\r\n        return _copy({}, v);\r\n      } else {\r\n        return v;\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * Object 轉換成 Combobox 陣列\r\n   * @param data\r\n   */\r\n  public static objectToCombobox(data: any): Combobox[] {\r\n    try {\r\n      let array = [];\r\n      for (let key in data) {\r\n        array.push({\r\n          value: key,\r\n          name: data[key]\r\n        });\r\n      }\r\n      return array;\r\n    } catch (e) {\r\n      alert(e);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Object 轉換成 Combobox 陣列\r\n   * @param data\r\n   */\r\n  public static objectToArray(data: any): any[] {\r\n    try {\r\n      let array = [];\r\n      for (let key in data) {\r\n        array.push(data[key]);\r\n      }\r\n      return array;\r\n    } catch (e) {\r\n      alert(e);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Object 轉換成 Combobox 陣列\r\n   * @param data\r\n   */\r\n  public static comboboxToValueName(array: Combobox[], render?: ValueNameRender): ValueName {\r\n    try {\r\n      let valueName: ValueName = {};\r\n      let data: Combobox;\r\n      for (let i in array) {\r\n        data = array[i];\r\n        valueName[data.value] = render ? render(data) : data.name;\r\n      }\r\n      return valueName;\r\n    } catch (e) {\r\n      alert(e);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 模擬form submit\r\n   * @param config\r\n   */\r\n  public static submit(config: SubmitConfig) {\r\n    config = CUI.deepClone({\r\n      target: '_self',\r\n      method: 'post'\r\n    }, config);\r\n    let formElement = CUI.create<HTMLFormElement>('form');\r\n    formElement.action = config.url;\r\n    formElement.method = config.method;\r\n    formElement.target = config.target;\r\n    for (let name in config.params) {\r\n      let input = CUI.create<HTMLInputElement>('input');\r\n      input.type = 'hidden';\r\n      input.name = name;\r\n      input.value = config.params[name];\r\n      formElement.appendChild(input);\r\n    }\r\n    document.body.appendChild(formElement);\r\n    formElement.submit();\r\n    setTimeout(function () {\r\n      if (formElement) {\r\n        CUI.remove(formElement);\r\n        formElement = null;\r\n      }\r\n    }, 1000);\r\n  }\r\n\r\n  /**\r\n   * 監聽內容變化\r\n   * @param element\r\n   * @param handler\r\n   */\r\n  public static addElementContentChangeEvent(element: HTMLElement, handler) {\r\n    if (element) {\r\n      element.addEventListener('DOMSubtreeModified', handler);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 移除監聽內容變化\r\n   * @param element\r\n   * @param handler\r\n   */\r\n  public static removeElementContentChangeEvent(element: HTMLElement, handler) {\r\n    if (element) {\r\n      element.removeEventListener('DOMSubtreeModified', handler);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 設定Element Translate置中\r\n   * @param element\r\n   */\r\n  public static setTranslateCenter(element: HTMLElement) {\r\n    let height = element.offsetHeight;\r\n    let width = element.offsetWidth;\r\n    let translateTop = Math.round(height / 2);\r\n    let translateLeft = Math.round(width / 2);\r\n    CUI.style(element, 'transform', 'translate(-' + translateLeft + 'px,-' + translateTop + 'px)');\r\n  }\r\n\r\n  /**\r\n   * 設定Element Translate置中\r\n   * @param element\r\n   */\r\n  public static setCenter(element: HTMLElement) {\r\n    let winWidth = window.innerWidth;\r\n    let winHeight = window.innerHeight;\r\n    let height = element.offsetHeight;\r\n    let width = element.offsetWidth;\r\n    let top = '50%';\r\n    let left = '50%';\r\n    let translateTop = Math.round(height / 2);\r\n    let translateLeft = Math.round(width / 2);\r\n    if (width > winWidth) {\r\n      left = '10px';\r\n      translateLeft = 0;\r\n    }\r\n    if (height > winHeight) {\r\n      top = '20px';\r\n      translateTop = 0;\r\n    }\r\n    element.style.top = top;\r\n    element.style.left = left;\r\n    CUI.style(element, 'transform', 'translate(-' + translateLeft + 'px,-' + translateTop + 'px)');\r\n  }\r\n\r\n  /**\r\n   * 監聽Element中有input:focus和Enter keyup\r\n   * @param element\r\n   * @param handler\r\n   */\r\n  public static addListenOnEnter(element: HTMLElement, handler: Function) {\r\n    if (element instanceof Element) {\r\n      element.addEventListener('keyup', (e) => {\r\n        if (e.which == 13 && (element.tagName == 'INPUT' || element.querySelector('input:focus'))) {\r\n          handler.call(element, e);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 產生HTMLElement，純粹減少編譯後的方法長度\r\n   * @param tagName\r\n   */\r\n  public static create<T extends HTMLElement>(tagName: string): T {\r\n    return (<T>document.createElement(tagName));\r\n  }\r\n\r\n  /**\r\n   * 檢查HTMLElement是否渲染在body上\r\n   * @param element\r\n   */\r\n  public static isConnected(element: HTMLElement): boolean {\r\n    if (element && element.parentElement) {\r\n      if ((<any>element).isConnected == undefined) {\r\n        if (element == document.body || element.parentElement == document.body) {\r\n          return true;\r\n        } else {\r\n          return CUI.isConnected(element.parentElement);\r\n        }\r\n      } else {\r\n        return (<any>element).isConnected;\r\n      }\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 移除HTMLElement\r\n   * 為了相容IE\r\n   * @param element\r\n   */\r\n  public static remove(element: HTMLElement) {\r\n    if (element) {\r\n      if (element.remove) {\r\n        element.remove();\r\n      } else if (element.parentElement) {\r\n        element.parentElement.removeChild(element);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 設定瀏覽器相容的css 屬性\r\n   * @param element\r\n   * @param key\r\n   * @param value\r\n   */\r\n  public static style(element: HTMLElement, key: string, value: string) {\r\n    if (element && key) {\r\n      element.style[key] = value;\r\n      key = key[0].toUpperCase() + key.substring(1);\r\n      element.style['webkit' + key] = value;\r\n      element.style['moz' + key] = value;\r\n      element.style['ms' + key] = value;\r\n      element.style['o' + key] = value;\r\n    }\r\n  }\r\n}\r\n","\r\n/**\r\n * 非同步執行\r\n * @param ms\r\n */\r\nexport function Async(ms: number = 0) {\r\n  return function (target, name: string, descriptor: PropertyDescriptor) {\r\n    if (descriptor === undefined) {\r\n      descriptor = Object.getOwnPropertyDescriptor(target, name);\r\n    }\r\n    let method = descriptor.value;\r\n    descriptor.value = function (...args) {\r\n      return setTimeout(() => {\r\n        method.apply(this, args);\r\n      }, ms);\r\n    };\r\n    return descriptor;\r\n  };\r\n}\r\n\r\nexport function toAsyncFn<T extends Function>(fn: T, ms: number = 0): T {\r\n  return <any>function (...args) {\r\n    return setTimeout(() => {\r\n      fn.apply(this, args);\r\n    }, ms);\r\n  };\r\n}\r\n\r\n","import { LocalStorageManager } from '../storage/local-storage-manager';\r\nimport { SessionStorageManager } from '../storage/session-storage-manager';\r\nimport { CUI } from '../cui';\r\n\r\n/**\r\n * 緩存\r\n */\r\nexport namespace Cache {\r\n    const id = '__TranslateGOCache';\r\n    /** 需要回寫的方法 */\r\n    let cacheUnloadHandlers = {};\r\n    let localCache = LocalStorageManager.get(id, false) || {};\r\n    let sessionCache = SessionStorageManager.get(id, false) || {};\r\n\r\n    /**\r\n     *\r\n     * @param scope 取得緩存資料\r\n     * @param key\r\n     */\r\n    export function getLocal(scope: string, key: string): any {\r\n        return localCache[scope + '.' + key];\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param scope 取得緩存資料\r\n     * @param key\r\n     */\r\n    export function getSession(scope: string, key: string): any {\r\n        return sessionCache[scope + '.' + key];\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param scope 寫入緩存資料\r\n     * @param key\r\n     */\r\n    export function setLocal(scope: string, key: string, value): any {\r\n        return localCache[scope + '.' + key] = value;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param scope 寫入緩存資料\r\n     * @param key\r\n     */\r\n    export function setSession(scope: string, key: string, value): any {\r\n        return sessionCache[scope + '.' + key] = value;\r\n    }\r\n\r\n    /**\r\n     * window unload 處理\r\n     */\r\n    export function onUnloadHandler() {\r\n        for (let key in cacheUnloadHandlers) {\r\n            cacheUnloadHandlers[key]();\r\n        }\r\n        if (LocalStorageManager.isExist(id)) {\r\n            LocalStorageManager.set(id, localCache, false);\r\n        }\r\n        if (SessionStorageManager.isExist(id)) {\r\n            SessionStorageManager.set(id, sessionCache, false);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 儲存\r\n     */\r\n    export function save() {\r\n        LocalStorageManager.set(id, localCache, false);\r\n        SessionStorageManager.set(id, sessionCache, false);\r\n    }\r\n\r\n    /**\r\n     * 緩存方法\r\n     * @param cache\r\n     * @param scope\r\n     * @param target\r\n     * @param key\r\n     */\r\n    function basic(cache, scope: string, defaultValue: any, target, key: string) {\r\n        let _cacheKey = scope + '.' + key;\r\n        let _val = CUI.deepClone(defaultValue, cache[_cacheKey]);\r\n        cache[_cacheKey] = _val;\r\n        cacheUnloadHandlers[_cacheKey] = function () {\r\n            cache[_cacheKey] = CUI.deepClone(_val);\r\n        };\r\n        // Delete property.\r\n        if (delete target[key]) {\r\n            // Create new property with getter and setter\r\n            Object.defineProperty(target, key, {\r\n                get: function () {\r\n                    return _val;\r\n                },\r\n                set: function (value) {\r\n                    _val = value;\r\n                },\r\n                enumerable: true,\r\n                configurable: true\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * LocalStorageManager 緩存\r\n     * @param scope cache scope name\r\n     */\r\n    export function local(scope: string, defaultValue?: any) {\r\n        return basic.bind(undefined, localCache, scope, defaultValue);\r\n    }\r\n\r\n    /**\r\n     * SessionStorageManager 緩存\r\n     * @param scope cache scope name\r\n     */\r\n    export function session(scope: string, defaultValue?: any) {\r\n        return basic.bind(undefined, sessionCache, scope, defaultValue);\r\n    }\r\n}\r\n\r\n/**\r\n * 回寫到storage\r\n */\r\nwindow.addEventListener('unload', Cache.onUnloadHandler);\r\nCache.save();\r\n","interface Scope {\r\n  callFn: CallFn\r\n  , ms: number\r\n  , interval: number\r\n  , time?: number\r\n}\r\n\r\ninterface CallFn {\r\n  (ms: number, args: any[]): any;\r\n}\r\n\r\n/**\r\n * 延遲執行\r\n * @param ms 延迟时间\r\n * @param interval 最大間隔，超过一定执行\r\n */\r\nexport function Delay(ms: number = 0, interval: number = 0) {\r\n  return function (target, name: string, descriptor: PropertyDescriptor) {\r\n    if (!descriptor) {\r\n      descriptor = Object.getOwnPropertyDescriptor(target, name);\r\n    }\r\n    let timerName = `__delay_${name}`;\r\n    let method = descriptor.value;\r\n    let scope: Scope = {\r\n      ms: ms\r\n      , interval: interval\r\n      , callFn: function (ms, args) {\r\n        clearTimeout(this[timerName]);\r\n        let timer = this[timerName] = setTimeout(() => {\r\n          method.apply(this, args);\r\n        }, ms);\r\n        return timer;\r\n      }\r\n    };\r\n    descriptor.value = function (...args) {\r\n      return runner.call(this, scope, args);\r\n    };\r\n    return descriptor;\r\n  };\r\n}\r\n\r\nexport function toDelayFn<T extends Function>(fn: T, ms: number = 0, interval: number = 0): T {\r\n  let timer;\r\n  let scope: Scope = {\r\n    ms: ms\r\n    , interval: interval\r\n    , callFn: function (ms, args) {\r\n      clearTimeout(timer);\r\n      timer = setTimeout(() => {\r\n        fn.apply(this, args);\r\n      }, ms);\r\n      return timer;\r\n    }\r\n  };\r\n  return <any>function (...args) {\r\n    return runner.call(this, scope, args);\r\n  };\r\n}\r\n\r\nfunction runner(scope: Scope, args): any {\r\n  let ms = scope.ms;\r\n  if (scope.interval > 0) {\r\n    let now = Date.now();\r\n    if (!scope.time) { scope.time = now + scope.interval; }\r\n    if (scope.time <= now) {\r\n      scope.time = 0;\r\n      ms = 0;\r\n    }\r\n  }\r\n  return scope.callFn.call(this, ms, args);\r\n}\r\n\r\n","\r\nexport function TookTime(target, name: string, descriptor: PropertyDescriptor) {\r\n  if (descriptor === undefined) {\r\n    descriptor = Object.getOwnPropertyDescriptor(target, name);\r\n  }\r\n  let method = descriptor.value;\r\n  descriptor.value = function (...args) {\r\n    let t = Date.now();\r\n    try {\r\n      return method.apply(this, args);\r\n    } finally {\r\n      console.log(`%c${this.constructor.name}.${name} took time ${Date.now() - t}ms`, 'color: #2196F3;font-weight: bold;', Date.now());\r\n    }\r\n  };\r\n  return descriptor;\r\n}\r\n\r\nexport function toTookTimeFn<T extends Function>(fn: T, ms: number = 0): T {\r\n  return <any>function (...args) {\r\n    let t = Date.now();\r\n    try {\r\n      return fn.apply(this, args);\r\n    } finally {\r\n      console.log(`%c${this.constructor.name}.${name} took time ${Date.now() - t}ms`, 'color: #2196F3;font-weight: bold;', Date.now());\r\n    }\r\n  };\r\n}\r\n","import { ListenerContainer } from './listener-container';\r\n\r\nexport class EventListenerContainer<Event extends string | number = string, Listener extends Function = Function>{\r\n  private readonly eventListeners: { [key: string | number]: ListenerContainer<Listener> } = {};\r\n\r\n  public addListener(event: Event, listener: Listener, target: Object = window): Listener {\r\n    let listeners = this.eventListeners[event];\r\n    if (!listeners) {\r\n      listeners = this.eventListeners[event] = new ListenerContainer();\r\n    }\r\n    listeners.addListener(listener, target);\r\n    return listener;\r\n  }\r\n\r\n  public addOnceListener(event: Event, listener: Listener, target: Object = window): Listener {\r\n    let listeners = this.eventListeners[event];\r\n    if (!listeners) {\r\n      listeners = this.eventListeners[event] = new ListenerContainer();\r\n    }\r\n    listeners.addOnceListener(listener, target);\r\n    return listener;\r\n  }\r\n\r\n  public removeListener(event: Event, listener: Listener): Listener {\r\n    let listeners = this.eventListeners[event];\r\n    if (!listeners) return;\r\n    listeners.removeListener(listener);\r\n  }\r\n\r\n  public removeAllEventListener(event: Event) {\r\n    delete this.eventListeners[event];\r\n  }\r\n\r\n  public removeAllListener(target: Object) {\r\n    for (let event in this.eventListeners) {\r\n      this.eventListeners[event].removeAllListener(target);\r\n    }\r\n  }\r\n\r\n  public dispatch(name: Event, ...args): Promise<any[]> {\r\n    let listeners = this.eventListeners[name];\r\n    if (!listeners) return;\r\n    return listeners.dispatch(...args);\r\n  }\r\n\r\n  public count(name: Event) {\r\n    return this.eventListeners[name]?.count() || 0;\r\n  }\r\n\r\n  public clear() {\r\n    for (let event in this.eventListeners) {\r\n      this.eventListeners[event].clear();\r\n    }\r\n  }\r\n}\r\n","interface ListenerData<Listener> {\r\n  target: Object,\r\n  listener: Listener;\r\n  once: boolean;\r\n}\r\n\r\nexport class ListenerContainer<Listener extends Function = Function>{\r\n  private readonly listenerMap = new Map<Listener, ListenerData<Listener>>();\r\n  private listeners: ListenerData<Listener>[] = [];\r\n\r\n  public addListener(listener: Listener, target: Object = window): Listener {\r\n    if (this.listenerMap.get(listener)) {\r\n      return;\r\n    }\r\n    let data: ListenerData<Listener> = {\r\n      target: target,\r\n      listener: listener,\r\n      once: false,\r\n    };\r\n    this.listeners.push(data);\r\n    this.listenerMap.set(listener, data);\r\n    return listener;\r\n  }\r\n\r\n  public addOnceListener(listener: Listener, target: Object = window): Listener {\r\n    if (this.listenerMap.get(listener)) {\r\n      return;\r\n    }\r\n    let data: ListenerData<Listener> = {\r\n      target: target,\r\n      listener: listener,\r\n      once: true,\r\n    };\r\n    this.listeners.push(data);\r\n    this.listenerMap.set(listener, data);\r\n    return listener;\r\n  }\r\n\r\n  public removeListener(listener: Listener): void {\r\n    this.listeners.forEach((data, i) => {\r\n      if (data?.listener == listener) this.mark(data.listener, i);\r\n    });\r\n    this.clearMark();\r\n  }\r\n\r\n  public removeAllListener(target: Object): void {\r\n    this.listeners.forEach((data, i) => {\r\n      if (data?.target == target) this.mark(data.listener, i);\r\n    });\r\n    this.clearMark();\r\n  }\r\n\r\n  public dispatch(...args): Promise<any[]> {\r\n    return this.dispatchIgnoreTarget(null, ...args);\r\n  }\r\n\r\n  public dispatchIgnoreTarget(target: any, ...args): Promise<any[]> {\r\n    if (this.listeners.length == 0) return;\r\n    let results = [];\r\n    this.listeners.forEach((data, i) => {\r\n      try {\r\n        if (target == data?.target) return;\r\n        results.push(data.listener.apply(data.target, args));\r\n      } catch (e) {\r\n        this.mark(data.listener, i);\r\n        console.error(e);\r\n      }\r\n      if (data.once) this.mark(data.listener, i);\r\n    });\r\n    this.clearMark();\r\n    return Promise.all(results);\r\n  }\r\n\r\n  public count() {\r\n    return this.listeners.length;\r\n  }\r\n\r\n  public clear() {\r\n    this.listeners.length = 0;\r\n    this.listenerMap.clear();\r\n  }\r\n\r\n  private mark(listener: Listener, index: number) {\r\n    this.listeners[index] = undefined;\r\n    this.listenerMap.delete(listener);\r\n  }\r\n\r\n  private clearMark() {\r\n    this.listeners = this.listeners.filter(data => data);\r\n  }\r\n}\r\n","export abstract class AbstractStroage {\r\n    // 儲存物件\r\n    protected static storage: Storage;\r\n    // 時間前墜\r\n    protected static prefix = '_DATATIME';\r\n    // 暫定一小時超時\r\n    protected static timeout = 60 * 60 * 1000;\r\n\r\n    public static isExist(key: string): boolean {\r\n        let storage = this.storage[key];\r\n        return storage != undefined;\r\n    }\r\n\r\n    /**\r\n     * get data by key\r\n     * @param key\r\n     */\r\n    public static get(key: string, timeout: boolean = true): any {\r\n        let storage = this.storage[key];\r\n        if (storage) {\r\n            if (timeout) {\r\n                this.refreshTime(key);\r\n            }\r\n            return JSON.parse(storage);\r\n        } else {\r\n            return undefined;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * set data by key\r\n     * @param key\r\n     * @param obj\r\n     */\r\n    public static set(key: string, data: any, timeout: boolean = true) {\r\n        if (data == undefined || data == null) {\r\n            this.clean(key);\r\n        } else {\r\n            this.storage[key] = JSON.stringify(data);\r\n            if (timeout) {\r\n                this.refreshTime(key);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * get data by key\r\n     * @param key\r\n     */\r\n    public static getNoParse(key: string, timeout: boolean = true): any {\r\n        let storage = this.storage[key];\r\n        if (storage) {\r\n            if (timeout) {\r\n                this.refreshTime(key);\r\n            }\r\n            return storage;\r\n        } else {\r\n            return undefined;\r\n        }\r\n    }\r\n    /**\r\n     * set data by key\r\n     * @param key\r\n     * @param obj\r\n     */\r\n    public static setNoStringify(key: string, str: string, timeout: boolean = true) {\r\n        if (str == undefined || str == null) {\r\n            this.clean(key);\r\n        } else {\r\n            this.storage[key] = str;\r\n\r\n            if (timeout) {\r\n                this.refreshTime(key);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 是否超時，順便清除資料\r\n     * @param key\r\n     */\r\n    public static isTimeout(key: string) {\r\n        let dataTime = this.getTime(key);\r\n        if (!dataTime) {\r\n            this.clean(key);\r\n            return true;\r\n        }\r\n        let checkTime = new Date().getTime() - this.timeout;\r\n        if ((checkTime - dataTime) >= 0) {\r\n            this.clean(key);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * 取得timeout\r\n     * @param key\r\n     */\r\n    public static getTime(key: string) {\r\n        return this.storage[key + this.prefix];\r\n    }\r\n\r\n    /**\r\n     * 更新時間\r\n     * @param key\r\n     */\r\n    public static refreshTime(key: string) {\r\n        if (this.storage[key]) {\r\n            this.storage[key + this.prefix] = new Date().getTime();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 清除時間\r\n     * @param key\r\n     */\r\n    public static clean(key: string) {\r\n        delete this.storage[key];\r\n        this.cleanTime(key);\r\n    }\r\n    /**\r\n     * 清除時間\r\n     * @param key\r\n     */\r\n    public static cleanTime(key: string) {\r\n        delete this.storage[key + this.prefix];\r\n    }\r\n\r\n}\r\n","import { AbstractStroage } from './abstract-storage';\r\n\r\nexport class LocalStorageManager extends AbstractStroage {\r\n    protected static storage = localStorage;\r\n}\r\n","import { AbstractStroage } from './abstract-storage';\r\n\r\n\r\nexport class SessionStorageManager extends AbstractStroage {\r\n    protected static storage = sessionStorage;\r\n}\r\n","export default class ToolbarKey {\r\n  static readonly SureDelete = '{SureDelete}';\r\n  /** 關鍵字*/\r\n  static readonly Keyword = '{Keyword}';\r\n  /** 選擇檔案*/\r\n  static readonly SelectFiles = '{SelectFiles}';\r\n  /** 語言*/\r\n  static readonly Language = '{Language}';\r\n  /** 匯入*/\r\n  static readonly Import = '{Import}';\r\n  /** 群組*/\r\n  static readonly Group = '{Group}';\r\n  /** 下載*/\r\n  static readonly Download = '{Download}';\r\n  /** 設定*/\r\n  static readonly Settings = '{Settings}';\r\n};\r\n","export const toolbarSources = {\r\n  'en': {\r\n    \"SureDelete\": \"SureDelete\",\r\n    \"Keyword\": \"keywords\",\r\n    \"SelectFiles\": \"Select Files\",\r\n    \"Language\": \"Language\",\r\n    \"Import\": \"Import\",\r\n    \"Group\": \"Group\",\r\n    \"Download\": \"Download\",\r\n    \"Settings\": \"Settings\",\r\n  },\r\n  'zh-TW': {\r\n    \"SureDelete\": \"确定要删除\",\r\n    \"Keyword\": \"關鍵字\",\r\n    \"SelectFiles\": \"選擇檔案\",\r\n    \"Language\": \"語言\",\r\n    \"Import\": \"匯入\",\r\n    \"Group\": \"群組\",\r\n    \"Download\": \"下載\",\r\n    \"Settings\": \"設定\",\r\n  }\r\n}\r\n","\r\ninterface DefaultConfig {\r\n  text: string;\r\n  className?: string;\r\n}\r\n\r\ninterface ButtonConfig extends DefaultConfig {\r\n  onclick: any;\r\n}\r\n\r\nexport class DomUtil {\r\n  /**\r\n   * 產生按鈕\r\n   * @param config\r\n   * @param level 檢查或不檢查權限等級\r\n   */\r\n  public static buildButton(config: ButtonConfig, level?: number): HTMLButtonElement {\r\n    let button = DomUtil.create('button');\r\n    button.className = 'ttb-button ' + config.className || '';\r\n    button.addEventListener('click', config.onclick);\r\n    button.innerText = config.text;\r\n    return button as HTMLButtonElement;\r\n  }\r\n\r\n  public static buildLinkButton(config: ButtonConfig): HTMLSpanElement {\r\n    let span = DomUtil.create('span');\r\n    span.className = 'ttb-link-button ' + config.className || '';\r\n    span.addEventListener('click', config.onclick);\r\n    span.innerText = config.text;\r\n    return span as HTMLSpanElement;\r\n  }\r\n\r\n  public static buildSpan(config: DefaultConfig): HTMLSpanElement {\r\n    let span = DomUtil.create('span');\r\n    span.className = config.className || '';\r\n    span.innerText = config.text;\r\n    return span as HTMLSpanElement;\r\n  }\r\n\r\n  public static buildDiv(config: DefaultConfig): HTMLDivElement {\r\n    let div = DomUtil.create('div');\r\n    div.className = config.className || '';\r\n    div.innerText = config.text;\r\n    return div as HTMLDivElement;\r\n  }\r\n\r\n  public static create(tagName: string): HTMLElement {\r\n    return document.createElement(tagName);\r\n  }\r\n\r\n  public static copyText(text: string) {\r\n    if (text) {\r\n      let callback = (e) => {\r\n        e.clipboardData.setData('text/plain', text);\r\n        e.preventDefault();\r\n      };\r\n      document.addEventListener('copy', callback);\r\n      document.execCommand('copy', true);\r\n      document.removeEventListener('copy', callback);\r\n    }\r\n  }\r\n}\r\n","export interface LoopCall<T> {\r\n  (loop: Loop<T>): void;\r\n}\r\n\r\nexport interface LoopBefore<T> {\r\n  (array: T[]): void;\r\n}\r\n\r\nexport interface LoopAfter<T> {\r\n  (array: T[]): void;\r\n}\r\n\r\nexport interface LoopHandler<T> {\r\n  (record: T, index: number, array: T[]): void | boolean;\r\n}\r\n\r\n\r\nexport default class Loop<T>{\r\n  private readonly befores = [];\r\n  private readonly afters = [];\r\n  private readonly handlers = [];\r\n\r\n  public static of<T>(array: T[]): Loop<T> {\r\n    return new Loop<T>(array);\r\n  }\r\n\r\n  constructor(private readonly array: T[]) {\r\n\r\n  }\r\n\r\n  public call(fn: LoopCall<T>) {\r\n    if (fn instanceof Function) {\r\n      fn(this);\r\n    }\r\n    return this;\r\n  }\r\n\r\n  public before(handler: LoopBefore<T>): Loop<T> {\r\n    if (handler instanceof Function) {\r\n      this.befores.push(handler);\r\n    }\r\n    return this;\r\n  }\r\n\r\n  public after(handler: LoopBefore<T>): Loop<T> {\r\n    if (handler instanceof Function) {\r\n      this.afters.push(handler);\r\n    }\r\n    return this;\r\n  }\r\n\r\n  public handler(handler: LoopHandler<T>): Loop<T> {\r\n    if (handler instanceof Function) {\r\n      this.handlers.push(handler);\r\n    }\r\n    return this;\r\n  }\r\n\r\n  public run(): void {\r\n    let array = this.array;\r\n    this.befores.forEach(handler => {\r\n      handler(array);\r\n    });\r\n    if (array) {\r\n      array.forEach((v, i, a) => {\r\n        this.handlers.forEach((handler, j) => {\r\n          if (handler && handler(v, i, a) == true) this.handlers[j] = undefined;\r\n        });\r\n      });\r\n    }\r\n    this.afters.forEach(handler => {\r\n      handler(array);\r\n    });\r\n  }\r\n}\r\n","import { toDelayFn } from \"ts/lib/cui/core/decorators/delay\";\r\n\r\nexport interface StickyOptions {\r\n  refreshDelay?: number;\r\n  zIndex?: number;\r\n  head?: OptionsDetail;\r\n  body?: OptionsDetail;\r\n  foot?: OptionsDetail;\r\n}\r\n\r\nexport interface OptionsDetail {\r\n  rows?: number;\r\n  cols?: number;\r\n}\r\n\r\ninterface StickyPosition {\r\n  zIndex: number;\r\n  top?: number;\r\n  left?: number;\r\n  bottom?: number;\r\n}\r\n\r\nlet stickyCount = 0;\r\n\r\nexport class StickyTable {\r\n  private name: string;\r\n  private style: HTMLStyleElement;\r\n  private top = 0;\r\n  private content = '';\r\n\r\n  constructor(private table: HTMLTableElement, private options: StickyOptions) {\r\n    this.style = document.createElement('style');\r\n    document.head.appendChild(this.style);\r\n\r\n    this.name = `sticky-table-${stickyCount++}`;\r\n    this.table.classList.add(this.name);\r\n    this.options = { zIndex: 3, refreshDelay: 100, ...this.options };\r\n    this.refresh = toDelayFn(this.refresh, this.options.refreshDelay);\r\n    this.refresh();\r\n    this.addEvents();\r\n  }\r\n\r\n  public destroy() {\r\n    this.removeEvents();\r\n    this.table = null;\r\n    document.head.removeChild(this.style);\r\n  }\r\n\r\n  public refresh = () => {\r\n    if (!this.table?.isConnected) return;\r\n    this.removeEvents();\r\n    this.top = 0;\r\n    this.content = '';\r\n    this.stickyHead();\r\n    this.stickyBody();\r\n    this.stickyFoot();\r\n    if (this.style.innerHTML != this.content) {\r\n      this.style.innerHTML = this.content;\r\n    }\r\n    this.addEvents();\r\n  };\r\n\r\n  private addEvents() {\r\n    window.addEventListener('resize', this.refresh);\r\n    window.addEventListener('mousedown', this.refresh);\r\n  }\r\n\r\n  private removeEvents() {\r\n    window.removeEventListener('resize', this.refresh);\r\n    window.removeEventListener('mousedown', this.refresh);\r\n  }\r\n\r\n  private stickyHead() {\r\n    let thead = this.table.querySelector('thead');\r\n    if (!thead?.isConnected) return;\r\n\r\n    let detail = this.options.head;\r\n    let zIndex = this.options.zIndex + 3;\r\n    let name = `.${this.name} thead`;\r\n    if (detail.rows) {\r\n      let position = {\r\n        zIndex: zIndex\r\n        , top: 0\r\n      };\r\n      this.setRowSticky(detail.rows, thead, name, position);\r\n      this.top = position.top;\r\n    } else {\r\n      this.top = thead.offsetHeight;\r\n      this.setSticky(name, {\r\n        zIndex: zIndex\r\n        , top: 0\r\n      });\r\n    }\r\n\r\n    this.setColumnSticky(detail.cols, thead, name, {\r\n      zIndex: zIndex\r\n      , top: 0\r\n    });\r\n  }\r\n\r\n  private stickyBody() {\r\n    let tbody = this.table.querySelector('tbody');\r\n    if (!tbody?.isConnected) return;\r\n\r\n    let detail = this.options.body;\r\n    let zIndex = this.options.zIndex + 1;\r\n    let name = `.${this.name} tbody`;\r\n    this.setRowSticky(detail.rows, tbody, name, {\r\n      zIndex: zIndex\r\n      , top: this.top\r\n    });\r\n\r\n    this.setColumnSticky(detail.cols, tbody, name, {\r\n      zIndex: zIndex\r\n    });\r\n  }\r\n\r\n  private stickyFoot() {\r\n    let tfoot = this.table.querySelector('tfoot');\r\n    if (!tfoot?.isConnected) return;\r\n\r\n    let detail = this.options.head;\r\n    let zIndex = this.options.zIndex + 3;\r\n    let name = `.${this.name} tfoot`;\r\n    if (detail.rows) {\r\n      let position = {\r\n        zIndex: zIndex\r\n        , bottom: 0\r\n      };\r\n      this.setRowSticky(detail.rows, tfoot, name, position);\r\n    } else {\r\n      this.setSticky(name, {\r\n        zIndex: zIndex\r\n        , bottom: 0\r\n      });\r\n    }\r\n\r\n    this.setColumnSticky(detail.cols, tfoot, name, {\r\n      zIndex: zIndex\r\n    });\r\n  };\r\n\r\n  private setRowSticky(rows: number, element: HTMLElement, name: string, position: StickyPosition) {\r\n    if (rows == undefined) return;\r\n    position.zIndex += 1;\r\n    let trs;\r\n    let increment;\r\n    if (position.bottom != undefined) {\r\n      trs = Array.prototype.reverse.call(element.children);\r\n      increment = (height: number) => position.bottom += height - 1;\r\n    } else {\r\n      trs = Array.from(element.children);\r\n      increment = (height: number) => position.top += height - 1;\r\n    }\r\n\r\n    for (let i = 0; i < trs.length; i++) {\r\n      if (i >= rows) break;\r\n      let tr = <HTMLElement>trs[i];\r\n      this.setSticky(name + ` tr:nth-of-type(${i + 1})`, position);\r\n      increment(tr.offsetHeight);\r\n    }\r\n  }\r\n\r\n  private setColumnSticky(cols: number, element: HTMLElement, name: string, position: StickyPosition) {\r\n    if (cols == undefined) return;\r\n    let tr = <HTMLElement>element.childNodes.item(0);\r\n    if (!tr) return;\r\n    let tds = tr.childNodes;\r\n    position.left = 0;\r\n    for (let i = 0; i < tds.length; i++) {\r\n      if (i >= cols) break;\r\n      let td = <HTMLElement>tds.item(i);\r\n      this.setSticky(name + ` td:nth-of-type(${i + 1})`, position);\r\n      this.setSticky(name + ` th:nth-of-type(${i + 1})`, position);\r\n      position.left += td.offsetWidth;\r\n    }\r\n  }\r\n\r\n  private setSticky(name: string, position: StickyPosition) {\r\n    this.content += `${name} {\\n`;\r\n    this.content += ' position: sticky;\\n';\r\n    this.content += ` z-index: ${position.zIndex};\\n`;\r\n    this.content += ` left: ${position.left || 0}px;\\n`;\r\n    if (position.top != undefined) {\r\n      this.content += ` top: ${position.top}px\\n`;\r\n    }\r\n    if (position.bottom != undefined) {\r\n      this.content += ` bottom: ${position.bottom}px\\n`;\r\n    }\r\n    this.content += '}\\n\\n';\r\n  }\r\n}\r\n"],"names":["ApplicationRef","TemplateRef","Overlay","Delay","DomPortalOutlet","TemplatePortal","i0","ɵɵelementStart","ɵɵelement","ɵɵprojection","ɵɵlistener","DialogComponent_ng_template_0_Template_div_click_5_listener","ɵɵrestoreView","_r2","ctx_r1","ɵɵnextContext","ɵɵresetView","close","ɵɵelementEnd","ɵɵclassMapInterpolate1","ctx_r0","over","ɵɵadvance","ɵɵclassMap","getClassName","ɵɵstyleProp","width","height","ɵɵproperty","title","ɵɵsanitizeHtml","DialogComponent","constructor","cdf","injector","viewContainerRef","show","resizeObserver","MutationObserver","entries","delayAddImageOnload","resize","windowSize","windowClassName","overlay","zIndex","onOpen","doOpen","bind","onClose","doClose","onImgLoad","onResize","canClose","ngOnDestroy","destroy","isOpen","open","_this","_asyncToGenerator","disconnect","markForCheck","outlet","wrapper","getElement","get","attach","templateRef","dialogWindow","querySelector","observe","attributes","childList","characterData","subtree","addImageOnload","window","addEventListener","delayShow","imgs","querySelectorAll","forEach","img","removeEventListener","dispose","destory","clientHeight","innerHeight","getSizeClass","_","ɵɵdirectiveInject","ChangeDetectorRef","Injector","ViewContainerRef","_2","selectors","viewQuery","DialogComponent_Query","rf","ctx","ɵɵtemplate","DialogComponent_ng_template_0_Template","__decorate","Async","NgIf","NgTemplateOutlet","ɵɵelementContainerStart","ɵɵtext","ɵɵelementContainerEnd","ɵɵtextInterpolate","ɵɵelementContainer","ShrinkComponent","shadow","extend","ngAfterViewInit","shrink","shrinkRef","nativeElement","header","children","content","style","opacity","classList","remove","add","openOrClose","getAllHeight","clearTimeout","timer","asyncHeightAuto","asyncHeightZero","insideRef","offsetHeight","ShrinkComponent_Query","ShrinkComponent_Template_div_click_2_listener","ShrinkComponent_ng_container_4_Template","ShrinkComponent_ng_container_5_Template","ShrinkComponent_ng_template_13_Template","ɵɵtemplateRefExtractor","_r5","styles","changeDetection","toDelayFn","TabComponent","NgFor","ɵɵtextInterpolate1","tab_r2","label","TabGroupComponent_div_7_ng_container_4_Template_span_click_1_listener","_r10","ctx_r9","i_r3","index","$implicit","TabGroupComponent_div_7_Template_div_click_2_listener","restoredCtx","_r12","ctx_r11","active","TabGroupComponent_div_7_Template_div_touchstart_2_listener","ctx_r13","TabGroupComponent_div_7_ng_container_3_Template","TabGroupComponent_div_7_ng_container_4_Template","getLabelClass","labelRef","TabGroupComponent_div_10_ng_container_1_ng_container_1_Template","TabGroupComponent_div_10_ng_container_1_ng_container_2_Template","tab_r14","contentRef","TabGroupComponent_div_10_ng_container_1_Template","getContentClass","TabGroupComponent","elementRef","leftIndex","labelsLeft","showPrevNext","element","hoverBar","labels","contents","prev","prevClick","next","nextClick","initActiveIndex","hover","tabsRef","changes","subscribe","length","contentClear","labelsRef","headerClear","tab","disabled","transform","activeIndex","undefined","i","isNaN","doActive","display","offsetWidth","left","value","ElementRef","contentQueries","TabGroupComponent_ContentQueries","dirIndex","TabGroupComponent_div_7_Template","TabGroupComponent_div_10_Template","id","Function","onActive","TabComponent_Query","TabComponent_ng_template_0_Template","TabComponent_ng_template_2_Template","TabComponent_ng_template_4_Template","ToolbarKey","getTranslateGO","toolbarSources","ToolViewComponent","TranslateEvent","FormsModule","AppComponent_button_1_Template_button_click_0_listener","ctx_r4","start","AppComponent_button_2_Template_button_click_0_listener","_r7","ctx_r6","stop","lang_r8","AppComponent","zone","translateGO","toolbarGroup","showToolbar","showToolDialog","languages","onLanguageSelected","translate","currentLanguage","getLanguage","space","document","createElement","className","body","appendChild","SourceChanged","run","getLanguages","loadAll","LanguageChanged","openToolDialog","removeAllEventListener","e","button","target","toolbar","w","viewDialog","NgZone","AppComponent_Query","AppComponent_button_1_Template","AppComponent_button_2_Template","AppComponent_Template_button_click_3_listener","AppComponent_Template_select_ngModelChange_4_listener","$event","AppComponent_option_5_Template","AppComponent_Template_button_click_6_listener","isScanning","onSave","i1","NgSelectOption","ɵNgSelectMultipleOption","SelectControlValueAccessor","NgControlStatus","NgModel","CUI","DialogComponent_1","lang_r5","ctx_r3","keyFile","name","file_r6","jsonToHtml","DownloadDialogComponent_ng_container_2_Template_select_ngModelChange_2_listener","_r8","ctx_r7","language","onLanguageChange","DownloadDialogComponent_ng_container_2_option_3_Template","DownloadDialogComponent_ng_container_2_Template_input_ngModelChange_7_listener","ctx_r10","keyVarable","onKeyVarableChange","DownloadDialogComponent_ng_container_2_Template_button_click_11_listener","ctx_r12","download","DownloadDialogComponent_ng_container_2_app_tab_13_Template","DownloadDialogComponent_ng_container_2_app_tab_14_Template","Download","languageFiles","DownloadDialogComponent","key","group","records","buildKeyFile","buildLanguageFiles","dialog","json","printJson","doDownload","Blob","type","file","fileName","blob","a","href","URL","createObjectURL","click","toUpperCase","substring","keys","record","push","join","files","jsons","JSON","stringify","DownloadDialogComponent_Query","DownloadDialogComponent_ng_container_2_Template","_r0","DefaultValueAccessor","value_r5","ImportDialogComponent_ng_container_2_app_tab_9_Template_select_ngModelChange_4_listener","file_r3","ImportDialogComponent_ng_container_2_app_tab_9_option_5_Template","ctx_r2","ImportDialogComponent_ng_container_2_Template_input_ngModelChange_2_listener","_r9","ctx_r8","ImportDialogComponent_ng_container_2_Template_button_click_5_listener","selectFiles","ImportDialogComponent_ng_container_2_Template_button_click_7_listener","import","ImportDialogComponent_ng_container_2_app_tab_9_Template","Group","SelectFiles","sourceFiles","Import","ImportDialogComponent","onImport","onChange","fileList","fileInput","item","replace","indexOf","source","reader","FileReader","onload","result","readAsText","multiple","accept","onchange","ImportDialogComponent_Query","ImportDialogComponent_ng_container_2_Template","Loop","DomUtil","Sort","StickyTable","forwardRef","NG_VALUE_ACCESSOR","DownloadDialogComponent_1","ToolTabComponent_th_30_Template_span_click_2_listener","language_r3","sortChange","ToolTabComponent_th_30_Template_button_click_4_listener","copy","ToolTabComponent_th_30_Template_textarea_ngModelChange_5_listener","propertyText","onTextChange","sortClass","ToolTabComponent_ng_container_33_input_7_Template_input_ngModelChange_0_listener","_r16","record_r9","ctx_r14","ctx_r17","onRecordChange","ToolTabComponent_ng_container_33_input_7_Template_input_blur_0_listener","ctx_r18","onBlur","ToolTabComponent_ng_container_33_td_8_textarea_3_Template_textarea_ngModelChange_0_listener","_r26","language_r20","ctx_r28","ToolTabComponent_ng_container_33_td_8_textarea_3_Template_textarea_blur_0_listener","ctx_r30","ToolTabComponent_ng_container_33_td_8_Template_td_click_0_listener","_r34","_r22","ɵɵreference","ctx_r33","onFocus","ToolTabComponent_ng_container_33_td_8_textarea_3_Template","isFocus","ToolTabComponent_ng_container_33_Template_button_click_3_listener","_r37","ctx_r36","removeSource","ToolTabComponent_ng_container_33_Template_td_click_4_listener","_r11","ctx_r38","ToolTabComponent_ng_container_33_input_7_Template","ToolTabComponent_ng_container_33_td_8_Template","isFilter","i_r10","getKeyClass","_languages","ToolTabComponent","init","split","keyCount","orderBy","sort","ASC","originRecords","newLanguage","newLanguageMessage","newGroup","keyword","filterRecords","filterCount","onTouched","stickyTable","tableRef","head","cols","writeValue","registerOnChange","fn","registerOnTouched","focus","focusEditor","editor","select","rename","getLanguageSource","removeLanguageSource","isGroupChange","save","getChanges","sources","load","openDownload","downloadDialog","filter","of","call","loop","addFilterHandler","addUpdateAllTextHandler","DESC","b","localeCompare","addKeyCountHandler","addUpdateTextHandler","addChangeHandler","text","trim","messages","handler","addSource","unshift","buildRecord","addAllChangeHandler","after","splice","copyText","isChange","keyRecord","languageSource","getMessageOrKey","reset","Object","assign","toLowerCase","before","array","fill","change","origin","texts","adds","modifies","removes","removeMap","toMap","toIndex","obj","message","buildTranslate","data","map","ToolTabComponent_Query","provide","useExisting","multi","ɵɵStandaloneFeature","decls","vars","consts","template","ToolTabComponent_Template","ToolTabComponent_Template_button_click_3_listener","ToolTabComponent_Template_input_ngModelChange_4_listener","ToolTabComponent_Template_input_ngModelChange_7_listener","ToolTabComponent_Template_button_click_10_listener","ToolTabComponent_Template_button_click_11_listener","ToolTabComponent_Template_button_click_12_listener","ToolTabComponent_Template_button_click_23_listener","ToolTabComponent_Template_span_click_26_listener","ToolTabComponent_Template_button_click_28_listener","ToolTabComponent_Template_textarea_ngModelChange_29_listener","ToolTabComponent_th_30_Template","ToolTabComponent_ng_container_33_Template","Keyword","ɵɵattribute","RequiredValidator","TookTime","toTookTimeFn","TabGroupComponent_1","ToolViewComponent_div_16_Template_button_click_1_listener","removeLanguage","ToolViewComponent_app_tab_28_Template_tool_tab_ngModelChange_4_listener","i_r7","groups","onGroupChange","onGroupClose","group_r6","prepardActiveGroup","activeTab","tabGroup","removeGroup","importSource","parse","isDisableLanguageButton","addLanguage","confirm","isDisableGroupButton","addGroup","alert","openSourceDialog","importDialog","getGroups","ToolViewComponent_Query","ToolViewComponent_Template_button_click_8_listener","ToolViewComponent_Template_input_ngModelChange_11_listener","ToolViewComponent_div_16_Template","ToolViewComponent_Template_button_click_19_listener","ToolViewComponent_Template_input_ngModelChange_22_listener","ToolViewComponent_Template_button_click_26_listener","ToolViewComponent_app_tab_28_Template","Settings","Language","environment","production","enableProdMode","createCustomElement","createApplication","loadApp","providers","then","appRef","component","customElements","define","setTimeout","console","log","TranslateConst","DefaultGroup","IgnoreTagArray","IgnoreAttributeName","TranslateGroup","TranslateKey","Prefix","ConfigPrefix","TranslateNode","TranslateNodePlaceholder","initKey","node","placeholder","setValue","getValue","TranslateNodeSubmit","TranslateNodeText","childNodes","innerText","nodeType","replaceChild","Text","insertBefore","translateGo","originValue","getKey","getNode","match","getTranslateText","args","getAttributeNames","getAttribute","alive","isConnected","TranslateDB","keyRegexp","RegExp","notFoundKeys","groupSource","cacheResult","getSource","cache","getCache","getNotFoundSource","updateGroups","getNotFoundKeys","find","findAll","warn","getGroupSource","clearCache","prevMatchKeys","presentMatchKeys","matchCount","matchs","getText","test","isEmpty","object","temp","EventListenerContainer","TranslateGO","listeners","ignoreMap","Map","translateGroupMap","nodeMap","mutationObserver","mutations","mutationObserverHandler","db","navigator","scanning","doClearRemoveNode","ignoreSize","size","v","k","m","delete","translateSize","force","doTranslate","dispatch","doLoad","doStart","clearSource","removeEvents","clear","event","callback","addListener","removeListener","removeAllListener","scan","mutation","scanAttribute","attributeName","scanText","clearRemoveNode","addEvents","documentElement","attributeFilter","translateNode","HTMLInputElement","addNode","set","findGroup","ignore","tagName","child","parent","getParent","parentElement","parentNode","t","Date","now","deepClone","clone","AbstractStroage","LocalStorageManager","SessionStorageManager","Cache","ToDelayFn","Loader","ListenerContainer","doClone","logs","dest","Array","isArray","isObject","deepCopy","defText","loadHtml","openCount","defauleZIndex","msg","textElement","innerHTML","openTimer","openNotDelay","addParentClass","removeParentClass","closeAll","create","OverlayClassName","config","doRemove","screenElement","screen","String","escaped","_key","_escaped","str","format","regCache","_getRegExp","values","_3","_space","_nameHtml","_valueStringHtml","_valueHtml","_nowSpace","_toHtml","_getValue","_objectToHtml","_arrayToHtml","html","hasData","_getName","nowrap","thatSpace","_4","delayAction","_timers","delay","slice","arguments","apply","isEmptyObject","isFunction","emptyToDefault","def","callFunction","thisArgs","_orginData","_destData","_logArray","_copy","orgin","objectToCombobox","objectToArray","comboboxToValueName","render","valueName","submit","method","formElement","action","url","params","input","addElementContentChangeEvent","removeElementContentChangeEvent","setTranslateCenter","translateTop","Math","round","translateLeft","setCenter","winWidth","innerWidth","winHeight","top","addListenOnEnter","Element","which","removeChild","ms","descriptor","getOwnPropertyDescriptor","toAsyncFn","cacheUnloadHandlers","localCache","sessionCache","getLocal","scope","getSession","setLocal","setSession","onUnloadHandler","isExist","basic","defaultValue","_cacheKey","_val","defineProperty","enumerable","configurable","local","session","interval","timerName","callFn","runner","time","eventListeners","listener","addOnceListener","count","listenerMap","once","mark","clearMark","dispatchIgnoreTarget","results","error","Promise","all","prefix","timeout","storage","refreshTime","clean","getNoParse","setNoStringify","isTimeout","dataTime","getTime","checkTime","cleanTime","localStorage","sessionStorage","SureDelete","_5","_6","_7","_8","buildButton","level","onclick","buildLinkButton","span","buildSpan","buildDiv","div","clipboardData","setData","preventDefault","execCommand","befores","afters","handlers","j","stickyCount","table","options","refresh","stickyHead","stickyBody","stickyFoot","refreshDelay","thead","detail","rows","position","setRowSticky","setSticky","setColumnSticky","tbody","tfoot","bottom","trs","increment","prototype","reverse","from","tr","tds","td"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}